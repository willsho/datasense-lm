(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>f,tree:()=>u});var r=n(260),o=n(8203),i=n(5155),a=n.n(i),s=n(7292),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);n.d(t,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,1377)),"/Users/will/Code/curr-vis-web/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,1354)),"/Users/will/Code/curr-vis-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/will/Code/curr-vis-web/src/app/page.tsx"],d={require:n,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3116:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,3219,23)),Promise.resolve().then(n.t.bind(n,4863,23)),Promise.resolve().then(n.t.bind(n,5155,23)),Promise.resolve().then(n.t.bind(n,802,23)),Promise.resolve().then(n.t.bind(n,9350,23)),Promise.resolve().then(n.t.bind(n,8530,23)),Promise.resolve().then(n.t.bind(n,8921,23))},3612:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6959,23)),Promise.resolve().then(n.t.bind(n,3875,23)),Promise.resolve().then(n.t.bind(n,8903,23)),Promise.resolve().then(n.t.bind(n,7174,23)),Promise.resolve().then(n.t.bind(n,4178,23)),Promise.resolve().then(n.t.bind(n,7190,23)),Promise.resolve().then(n.t.bind(n,1365,23))},7970:()=>{},7354:()=>{},9861:(e,t,n)=>{Promise.resolve().then(n.bind(n,1377))},133:(e,t,n)=>{Promise.resolve().then(n.bind(n,7102))},3711:function(e,t,n){var r,o,i;o=[],void 0!==(i="function"==typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,o=t.IS_PAPA_WORKER||!1,i={},a=0,s={};if(s.parse=function(n,r){var o,l=(r=r||{}).dynamicTyping||!1;if(E(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!E(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,o=(n=t.URL||t.webkitURL||null,r=e.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(o);return l.onmessage=b,l.id=a++,i[l.id]=l,l}();u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,u.postMessage({input:n,config:r,workerId:u.id});return}var g=null;return n===s.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(g=new p(r)).getStream():("string"==typeof n?(n=65279===(o=n).charCodeAt(0)?o.slice(1):o,g=r.download?new c(r):new f(r)):!0===n.readable&&E(n.read)&&E(n.on)?g=new h(r):(t.File&&n instanceof File||n instanceof Object)&&(g=new d(r)),g.stream(n))},s.unparse=function(e,t){var n=!1,r=!0,o=",",i="\r\n",a='"',l=a+a,u=!1,c=null,d=!1;(function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),("boolean"==typeof t.skipEmptyLines||"string"==typeof t.skipEmptyLines)&&(u=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw Error("Unable to serialize unrecognized input");function h(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&e.length>0,l=!Array.isArray(t[0]);if(s&&r){for(var u=0;u<e.length;u++)u>0&&(a+=o),a+=p(e[u],u);t.length>0&&(a+=i)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,f=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(f="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var g=[],m=0;m<d;m++){var y=l?e[m]:m;g.push(t[c][y])}f=""===g.join("").trim()}if(!f){for(var b=0;b<d;b++){b>0&&!h&&(a+=o);var v=s&&l?e[b]:b;a+=p(t[c][v],b)}c<t.length-1&&(!n||d>0&&!h)&&(a+=i)}}return a}function p(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var i=e.toString().replace(f,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(i,s.BAD_DELIMITERS)||i.indexOf(o)>-1||" "===i.charAt(0)||" "===i.charAt(i.length-1))?a+i+a:i}},s.RECORD_SEP="\x1e",s.UNIT_SEP="\x1f",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=0xa00000,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=y,s.ParserHandle=g,s.NetworkStreamer=c,s.FileStreamer=d,s.StringStreamer=f,s.ReadableStreamStreamer=h,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(s.DuplexStreamStreamer=p),t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var n=e.config||{},r=[];return this.each(function(e){if(!("INPUT"===l(this).prop("tagName").toUpperCase()&&"file"===l(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:l.extend({},n)})}),o(),this;function o(){if(0===r.length){E(e.complete)&&e.complete();return}var t=r[0];if(E(e.before)){var n,o,a,u,c=e.before(t.file,t.inputElem);if("object"==typeof c){if("abort"===c.action){n="AbortError",o=t.file,a=t.inputElem,u=c.reason,E(e.error)&&e.error({name:n},o,a,u);return}if("skip"===c.action){i();return}"object"==typeof c.config&&(t.instanceConfig=l.extend(t.instanceConfig,c.config))}else if("skip"===c){i();return}}var d=t.instanceConfig.complete;t.instanceConfig.complete=function(e){E(d)&&d(e,t.file,t.inputElem),i()},s.parse(t.file,t.instanceConfig)}function i(){r.splice(0,1),o()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new g(t),this._handle.streamer=this,this._config=t}).call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var a=this._handle.parse(i,this._baseIndex,!this._finished);if(this._handle.paused()||this._handle.aborted()){this._halted=!0;return}var l=a.meta.cursor;this._finished||(this._partialLine=i.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)t.postMessage({results:a,workerId:s.WORKER_ID,finished:u});else if(E(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted()){this._halted=!0;return}a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),!this._completed&&u&&E(this._config.complete)&&(!a||!a.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),u||a&&a.meta.paused||this._nextChunk(),a},this._sendError=function(e){E(this._config.error)?this._config.error(e):o&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),u.call(this,e),r?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished){this._chunkLoaded();return}if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()},this._chunkLoaded=function(){if(4===t.readyState){var e;if(t.status<200||t.status>=400){this._chunkError();return}this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)}},this._chunkError=function(e){var n=t.statusText||e;this._sendError(Error(n))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),u.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,o)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;e=e||{},u.call(this,e),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){e=e||{},u.call(this,e);var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=_(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=_(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t=n(7910).Duplex,r=w(e),o=!0,i=!1,a=[],s=null;this._onCsvData=function(e){var t=e.data;s.push(t)||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){s.push(null)},r.step=_(this._onCsvData,this),r.complete=_(this._onCsvComplete,this),u.call(this,r),this._nextChunk=function(){i&&1===a.length&&(this._finished=!0),a.length?a.shift()():o=!0},this._addToParseQueue=function(e,t){a.push(_(function(){if(this.parseChunk("string"==typeof e?e:e.toString(r.encoding)),E(t))return t()},this)),o&&(o=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(e,t,n){this._addToParseQueue(e,n)},this._onWriteComplete=function(){i=!0,this._addToParseQueue("")},this.getStream=function(){return s},(s=new t({readableObjectMode:!0,decodeStrings:!1,read:_(this._onRead,this),write:_(this._onWrite,this)})).once("finish",_(this._onWriteComplete,this))}function g(e){var t,n,r,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,i=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,a=this,l=0,u=0,c=!1,d=!1,f=[],h={data:[],errors:[],meta:{}};if(E(e.step)){var p=e.step;e.step=function(t){if(h=t,v())b();else{if(b(),0===h.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(h.data=h.data[0],p(h,a))}}}function g(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function b(){return h&&r&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(h.data=h.data.filter(function(e){return!g(e)})),v()&&function(){if(h){if(Array.isArray(h.data[0])){for(var t=0;v()&&t<h.data.length;t++)h.data[t].forEach(n);h.data.splice(0,1)}else h.data.forEach(n)}function n(t,n){E(e.transformHeader)&&(t=e.transformHeader(t,n)),f.push(t)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,l=t[r];e.header&&(s=r>=f.length?"__parsed_extra":f[r]),e.transform&&(l=e.transform(l,s)),l=function(t,n){if(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping))return"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(o.test(e)){var t=parseFloat(e);if(t>-0x20000000000000&&t<0x20000000000000)return!0}return!1}(n)?parseFloat(n):i.test(n)?new Date(n):""===n?null:n);return n}(s,l),"__parsed_extra"===s?(a[s]=a[s]||[],a[s].push(l)):a[s]=l}return e.header&&(r>f.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+r,u+n):r<f.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+r,u+n)),a}var n=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(t),n=h.data.length):h.data=t(h.data,0),e.header&&h.meta&&(h.meta.fields=f),u+=n,h}()}function v(){return e.header&&0===f.length}function x(e,t,n,r){var o={type:e,code:t,message:n};void 0!==r&&(o.row=r),h.errors.push(o)}this.parse=function(o,i,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),o=e.split("\n"),i=o.length>1&&o[0].length<r[0].length;if(1===r.length||i)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(o,l)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(o),h.meta.delimiter=e.delimiter);else{var u=function(t,n,r,o,i){var a,l,u,c;i=i||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<i.length;d++){var f=i[d],h=0,p=0,m=0;u=void 0;for(var b=new y({comments:o,delimiter:f,newline:n,preview:10}).parse(t),v=0;v<b.data.length;v++){if(r&&g(b.data[v])){m++;continue}var x=b.data[v].length;if(p+=x,void 0===u){u=x;continue}x>0&&(h+=Math.abs(x-u),u=x)}b.data.length>0&&(p/=b.data.length-m),(void 0===l||h<=l)&&(void 0===c||p>c)&&p>1.99&&(l=h,a=f,c=p)}return e.delimiter=a,{successful:!!a,bestDelimiter:a}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),h.meta.delimiter=e.delimiter}var d=w(e);return e.preview&&e.header&&d.preview++,t=o,h=(n=new y(d)).parse(t,i,a),b(),c?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),t=E(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){a.streamer._halted?(c=!1,a.streamer.parseChunk(t,!0)):setTimeout(a.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),h.meta.aborted=!0,E(e.complete)&&e.complete(h),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){var t,n=(e=e||{}).delimiter,r=e.newline,o=e.comments,i=e.step,a=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||s.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),o===n)throw Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||s.BAD_DELIMITERS.indexOf(o)>-1)&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,d=!1;this.parse=function(s,f,h){if("string"!=typeof s)throw Error("Input must be a string");var p=s.length,g=n.length,y=r.length,b=o.length,v=E(i);c=0;var x=[],w=[],_=[],S=0;if(!s)return q();if(e.header&&!f){var k=s.split(r)[0].split(n),C=[],R={},N=!1;for(var A in k){var M=k[A];E(e.transformHeader)&&(M=e.transformHeader(M,A));var P=M,j=R[M]||0;for(j>0&&(N=!0,P=M+"_"+j),R[M]=j+1;C.includes(P);)P=P+"_"+j;C.push(P)}if(N){var O=s.split(r);O[0]=C.join(n),s=O.join(r)}}if(l||!1!==l&&-1===s.indexOf(t)){for(var I=s.split(r),$=0;$<I.length;$++){if(_=I[$],c+=_.length,$!==I.length-1)c+=r.length;else if(h)break;if(!o||_.substring(0,b)!==o){if(v){if(x=[],F(_.split(n)),X(),d)return q()}else F(_.split(n));if(a&&$>=a)return x=x.slice(0,a),q(!0)}}return q()}for(var T=s.indexOf(n,c),D=s.indexOf(r,c),z=RegExp(m(u)+m(t),"g"),L=s.indexOf(t,c);;){if(s[c]===t){for(L=c,c++;;){if(-1===(L=s.indexOf(t,L+1)))return h||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:c}),W();if(L===p-1)return W(s.substring(c,L).replace(z,t));if(t===u&&s[L+1]===u){L++;continue}if(t===u||0===L||s[L-1]!==u){-1!==T&&T<L+1&&(T=s.indexOf(n,L+1)),-1!==D&&D<L+1&&(D=s.indexOf(r,L+1));var H=U(-1===D?T:Math.min(T,D));if(s.substr(L+1+H,g)===n){_.push(s.substring(c,L).replace(z,t)),c=L+1+H+g,s[L+1+H+g]!==t&&(L=s.indexOf(t,c)),T=s.indexOf(n,c),D=s.indexOf(r,c);break}var B=U(D);if(s.substring(L+1+B,L+1+B+y)===r){if(_.push(s.substring(c,L).replace(z,t)),V(L+1+B+y),T=s.indexOf(n,c),L=s.indexOf(t,c),v&&(X(),d))return q();if(a&&x.length>=a)return q(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:x.length,index:c}),L++}}continue}if(o&&0===_.length&&s.substring(c,c+b)===o){if(-1===D)return q();c=D+y,D=s.indexOf(r,c),T=s.indexOf(n,c);continue}if(-1!==T&&(T<D||-1===D)){_.push(s.substring(c,T)),c=T+g,T=s.indexOf(n,c);continue}if(-1!==D){if(_.push(s.substring(c,D)),V(D+y),v&&(X(),d))return q();if(a&&x.length>=a)return q(!0);continue}break}return W();function F(e){x.push(e),S=c}function U(e){var t=0;if(-1!==e){var n=s.substring(L+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return h||(void 0===e&&(e=s.substring(c)),_.push(e),c=p,F(_),v&&X()),q()}function V(e){c=e,F(_),_=[],D=s.indexOf(r,c)}function q(e){return{data:x,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:S+(f||0)}}}function X(){i(q()),x=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function b(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(E(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function x(){throw Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return o&&(t.onmessage=function(e){var n=e.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&t.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),c.prototype=Object.create(u.prototype),c.prototype.constructor=c,d.prototype=Object.create(u.prototype),d.prototype.constructor=d,f.prototype=Object.create(f.prototype),f.prototype.constructor=f,h.prototype=Object.create(u.prototype),h.prototype.constructor=h,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(p.prototype=Object.create(u.prototype),p.prototype.constructor=p),s})?r.apply(t,o):r)&&(e.exports=i)},9015:(e,t,n)=>{"use strict";var r=n(8009),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return s(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),a(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},528:(e,t,n)=>{"use strict";var r=n(8009),o=n(4924),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=u(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,o]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},4924:(e,t,n)=>{"use strict";e.exports=n(9015)},3450:(e,t,n)=>{"use strict";e.exports=n(528)},7102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>au});var r,o,i,a,s,l,u,c,d,f=n(5512);let h=e=>{let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},p=e=>e?h(e):h;var g=n(8009),m=n.n(g),y=n(3450);let{useDebugValue:b}=g,{useSyncExternalStoreWithSelector:v}=y,x=!1,w=e=>e,_=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?p(e):e,n=(e,n)=>(function(e,t=w,n){n&&!x&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),x=!0);let r=v(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return b(r),r})(t,e,n);return Object.assign(n,t),n},E=(e=>e?_(e):_)(e=>({csvData:null,analysisResult:null,isLoading:!1,error:null,setCsvData:t=>e({csvData:t}),setAnalysisResult:t=>e({analysisResult:t}),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),reset:()=>e({csvData:null,analysisResult:null,error:null})})),S=e=>{let t=N(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),k(n,t)||R(e)},getConflictingClassGroupIds:(e,t)=>{let o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},k=(e,t)=>{if(0===e.length)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),o=r?k(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;let i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},C=/^\[(.+)\]$/,R=e=>{if(C.test(e)){let t=C.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},N=e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return j(Object.entries(e.classGroups),n).forEach(([e,n])=>{A(n,r,e,t)}),r},A=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:M(t,e)).classGroupId=n;return}if("function"==typeof e){if(P(e)){A(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,o])=>{A(o,M(t,e),n,r)})})},M=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},P=e=>e.isThemeGetter,j=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,O=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,o=(o,i)=>{n.set(o,i),++t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},I=e=>{let{separator:t,experimentalParseClassName:n}=e,r=1===t.length,o=t[0],i=t.length,a=e=>{let n;let a=[],s=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===s){if(c===o&&(r||e.slice(u,u+i)===t)){a.push(e.slice(l,u)),l=u+i;continue}if("/"===c){n=u;continue}}"["===c?s++:"]"===c&&s--}let u=0===a.length?e:e.substring(l),c=u.startsWith("!"),d=c?u.substring(1):u;return{modifiers:a,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:n&&n>l?n-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},$=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},T=e=>({cache:O(e.cacheSize),parseClassName:I(e),...S(e)}),D=/\s+/,z=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(D),s="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{modifiers:l,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:d}=n(t),f=!!d,h=r(f?c.substring(0,d):c);if(!h){if(!f||!(h=r(c))){s=t+(s.length>0?" "+s:s);continue}f=!1}let p=$(l).join(":"),g=u?p+"!":p,m=g+h;if(i.includes(m))continue;i.push(m);let y=o(h,f);for(let e=0;e<y.length;++e){let t=y[e];i.push(g+t)}s=t+(s.length>0?" "+s:s)}return s};function L(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=H(e))&&(r&&(r+=" "),r+=t);return r}let H=e=>{let t;if("string"==typeof e)return e;let n="";for(let r=0;r<e.length;r++)e[r]&&(t=H(e[r]))&&(n&&(n+=" "),n+=t);return n},B=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},F=/^\[(?:([a-z-]+):)?(.+)\]$/i,U=/^\d+\/\d+$/,W=new Set(["px","full","screen"]),V=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,K=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Z=e=>Q(e)||W.has(e)||U.test(e),G=e=>ed(e,"length",ef),Q=e=>!!e&&!Number.isNaN(Number(e)),J=e=>ed(e,"number",Q),ee=e=>!!e&&Number.isInteger(Number(e)),et=e=>e.endsWith("%")&&Q(e.slice(0,-1)),en=e=>F.test(e),er=e=>V.test(e),eo=new Set(["length","size","percentage"]),ei=e=>ed(e,eo,eh),ea=e=>ed(e,"position",eh),es=new Set(["image","url"]),el=e=>ed(e,es,eg),eu=e=>ed(e,"",ep),ec=()=>!0,ed=(e,t,n)=>{let r=F.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},ef=e=>q.test(e)&&!X.test(e),eh=()=>!1,ep=e=>K.test(e),eg=e=>Y.test(e);Symbol.toStringTag;let em=function(e,...t){let n,r,o;let i=function(s){return r=(n=T(t.reduce((e,t)=>t(e),e()))).cache.get,o=n.cache.set,i=a,a(s)};function a(e){let t=r(e);if(t)return t;let i=z(e,n);return o(e,i),i}return function(){return i(L.apply(null,arguments))}}(()=>{let e=B("colors"),t=B("spacing"),n=B("blur"),r=B("brightness"),o=B("borderColor"),i=B("borderRadius"),a=B("borderSpacing"),s=B("borderWidth"),l=B("contrast"),u=B("grayscale"),c=B("hueRotate"),d=B("invert"),f=B("gap"),h=B("gradientColorStops"),p=B("gradientColorStopPositions"),g=B("inset"),m=B("margin"),y=B("opacity"),b=B("padding"),v=B("saturate"),x=B("scale"),w=B("sepia"),_=B("skew"),E=B("space"),S=B("translate"),k=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",en,t],N=()=>[en,t],A=()=>["",Z,G],M=()=>["auto",Q,en],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",en],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Q,en];return{cacheSize:500,separator:":",theme:{colors:[ec],spacing:[Z,G],blur:["none","",er,en],brightness:D(),borderColor:[e],borderRadius:["none","","full",er,en],borderSpacing:N(),borderWidth:A(),contrast:D(),grayscale:$(),hueRotate:D(),invert:$(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[et,G],inset:R(),margin:R(),opacity:D(),padding:N(),saturate:D(),scale:D(),sepia:$(),skew:D(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",en]}],container:["container"],columns:[{columns:[er]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),en]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ee,en]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",en]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ee,en]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",ee,en]},en]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[ee,en]},en]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",en]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",en]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",en,t]}],"min-w":[{"min-w":[en,t,"min","max","fit"]}],"max-w":[{"max-w":[en,t,"none","full","min","max","fit","prose",{screen:[er]},er]}],h:[{h:[en,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[en,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[en,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[en,t,"auto","min","max","fit"]}],"font-size":[{text:["base",er,G]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",J]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",en]}],"line-clamp":[{"line-clamp":["none",Q,J]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Z,en]}],"list-image":[{"list-image":["none",en]}],"list-style-type":[{list:["none","disc","decimal",en]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Z,G]}],"underline-offset":[{"underline-offset":["auto",Z,en]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),ea]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ei]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},el]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Z,en]}],"outline-w":[{outline:[Z,G]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Z,G]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",er,eu]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",er,en]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",en]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",en]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",en]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[ee,en]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",en]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Z,G,J]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});var ey=n(3711),eb=n.n(ey);async function ev(e){return new Promise((t,n)=>{eb().parse(e,{header:!0,complete:e=>{t({headers:e.meta.fields||[],rows:e.data})},error:e=>n(e)})})}function ex(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var ew=g.forwardRef((e,t)=>{let{children:n,...r}=e,o=g.Children.toArray(n),i=o.find(eS);if(i){let e=i.props.children,n=o.map(t=>t!==i?t:g.Children.count(e)>1?g.Children.only(null):g.isValidElement(e)?e.props.children:null);return(0,f.jsx)(e_,{...r,ref:t,children:g.isValidElement(e)?g.cloneElement(e,void 0,n):null})}return(0,f.jsx)(e_,{...r,ref:t,children:n})});ew.displayName="Slot";var e_=g.forwardRef((e,t)=>{let{children:n,...r}=e;if(g.isValidElement(n)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n);return g.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:t?function(...e){return t=>{let n=!1,r=e.map(e=>{let r=ex(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():ex(e[t],null)}}}}(t,e):e})}return g.Children.count(n)>1?g.Children.only(null):null});e_.displayName="SlotClone";var eE=({children:e})=>(0,f.jsx)(f.Fragment,{children:e});function eS(e){return g.isValidElement(e)&&e.type===eE}let ek=g.forwardRef(({className:e,asChild:t=!1,variant:n="default",...r},o)=>{let i=t?ew:"button";return(0,f.jsx)(i,{className:function(...e){return em(function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(r&&(r+=" "),r+=t);return r}(e))}("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","default"===n?"bg-primary text-primary-foreground hover:bg-primary/90":"","outline"===n?"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"","h-10 px-4 py-2",e),ref:o,...r})});ek.displayName="Button";var eC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let eR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),eN=((e,t)=>{let n=(0,g.forwardRef)(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:s,...l},u)=>(0,g.createElement)("svg",{ref:u,...eC,width:r,height:r,stroke:n,strokeWidth:i?24*Number(o)/Number(r):o,className:["lucide",`lucide-${eR(e)}`,a].join(" "),...l},[...t.map(([e,t])=>(0,g.createElement)(e,t)),...Array.isArray(s)?s:[s]]));return n.displayName=`${e}`,n})("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function eA(){let[e,t]=(0,g.useState)(!1),{setLoading:n,setCsvData:r,setError:o}=E(),i=m().useRef(null),a=(0,g.useCallback)(async e=>{if(!e.name.endsWith(".csv")){o("请上传 CSV 文件");return}try{n(!0),o(null);let t=await ev(e);r(t)}catch(e){o("文件解析失败，请确保文件格式正确"),console.error("CSV parsing error:",e)}finally{n(!1)}},[r,o,n]),s=(0,g.useCallback)(e=>{e.preventDefault(),t(!1);let n=e.dataTransfer.files[0];n&&a(n)},[a]),l=(0,g.useCallback)(e=>{e.preventDefault(),t(!0)},[]),u=(0,g.useCallback)(e=>{e.preventDefault(),t(!1)},[]),c=(0,g.useCallback)(()=>{i.current?.click()},[]),d=(0,g.useCallback)(e=>{let t=e.target.files?.[0];t&&a(t)},[a]);return(0,f.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
        ${e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:s,onDragOver:l,onDragLeave:u,onClick:c,children:[(0,f.jsx)("input",{type:"file",ref:i,className:"hidden",accept:".csv",onChange:d}),(0,f.jsx)(eN,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,f.jsxs)("div",{className:"mt-4",children:[(0,f.jsx)(ek,{type:"button",variant:"outline",className:"mx-auto",children:"选择 CSV 文件"}),(0,f.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"或将文件拖放到此处"})]})]})}var eM={value:()=>{}};function eP(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new ej(r)}function ej(e){this._=e}function eO(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=eM,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function eI(){}function e$(e){return null==e?eI:function(){return this.querySelector(e)}}function eT(){return[]}function eD(e){return null==e?eT:function(){return this.querySelectorAll(e)}}function ez(e){return function(){return this.matches(e)}}function eL(e){return function(t){return t.matches(e)}}ej.prototype=eP.prototype={constructor:ej,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=eO(r[n],e.name,t);else if(null==t)for(n in r)r[n]=eO(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ej(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var eH=Array.prototype.find;function eB(){return this.firstElementChild}var eF=Array.prototype.filter;function eU(){return Array.from(this.children)}function eW(e){return Array(e.length)}function eV(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function eq(e,t,n,r,o,i){for(var a,s=0,l=t.length,u=i.length;s<u;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new eV(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function eX(e,t,n,r,o,i,a){var s,l,u,c=new Map,d=t.length,f=i.length,h=Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=u=a.call(l,l.__data__,s,t)+"",c.has(u)?o[s]=l:c.set(u,l));for(s=0;s<f;++s)u=a.call(e,i[s],s,i)+"",(l=c.get(u))?(r[s]=l,l.__data__=i[s],c.delete(u)):n[s]=new eV(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(h[s])===l&&(o[s]=l)}function eK(e){return e.__data__}function eY(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}eV.prototype={constructor:eV,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var eZ="http://www.w3.org/1999/xhtml";let eG={svg:"http://www.w3.org/2000/svg",xhtml:eZ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eQ(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),eG.hasOwnProperty(t)?{space:eG[t],local:e}:e}function eJ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function e0(e,t){return e.style.getPropertyValue(t)||eJ(e).getComputedStyle(e,null).getPropertyValue(t)}function e1(e){return e.trim().split(/^|\s+/)}function e2(e){return e.classList||new e5(e)}function e5(e){this._node=e,this._names=e1(e.getAttribute("class")||"")}function e3(e,t){for(var n=e2(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function e4(e,t){for(var n=e2(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function e6(){this.textContent=""}function e8(){this.innerHTML=""}function e7(){this.nextSibling&&this.parentNode.appendChild(this)}function e9(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(e){var t=eQ(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eZ&&t.documentElement.namespaceURI===eZ?t.createElement(e):t.createElementNS(n,e)}})(t)}function tt(){return null}function tn(){var e=this.parentNode;e&&e.removeChild(this)}function tr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function to(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ti(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ta(e,t,n){return function(){var r,o=this.__on,i=function(e){t.call(this,e,this.__data__)};if(o){for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function ts(e,t,n){var r=eJ(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}e5.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var tl=[null];function tu(e,t){this._groups=e,this._parents=t}function tc(){return new tu([[document.documentElement]],tl)}tu.prototype=tc.prototype={constructor:tu,select:function(e){"function"!=typeof e&&(e=e$(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,u=r[o]=Array(l),c=0;c<l;++c)(i=s[c])&&(a=e.call(i,i.__data__,c,s))&&("__data__"in i&&(a.__data__=i.__data__),u[c]=a);return new tu(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=eD(e);for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var s,l=n[a],u=l.length,c=0;c<u;++c)(s=l[c])&&(o.push(e.call(s,s.__data__,c,l)),i.push(s));return new tu(o,i)},selectChild:function(e){var t;return this.select(null==e?eB:(t="function"==typeof e?e:eL(e),function(){return eH.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?eU:(t="function"==typeof e?e:eL(e),function(){return eF.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=ez(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],u=0;u<s;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&l.push(i);return new tu(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,eK);var n=t?eX:eq,r=this._parents,o=this._groups;"function"!=typeof e&&(b=e,e=function(){return b});for(var i=o.length,a=Array(i),s=Array(i),l=Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,h="object"==typeof(y=e.call(c,c&&c.__data__,u,r))&&"length"in y?y:Array.from(y),p=h.length,g=s[u]=Array(p),m=a[u]=Array(p);n(c,d,g,m,l[u]=Array(f),h,t);for(var y,b,v,x,w=0,_=0;w<p;++w)if(v=g[w]){for(w>=_&&(_=w+1);!(x=m[_])&&++_<p;);v._next=x||null}}return(a=new tu(a,r))._enter=s,a._exit=l,a},enter:function(){return new tu(this._enter||this._groups.map(eW),this._parents)},exit:function(){return new tu(this._exit||this._groups.map(eW),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=Array(o),l=0;l<a;++l)for(var u,c=n[l],d=r[l],f=c.length,h=s[l]=Array(f),p=0;p<f;++p)(u=c[p]||d[p])&&(h[p]=u);for(;l<o;++l)s[l]=n[l];return new tu(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=eY);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,u=o[i]=Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new tu(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=eQ(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):e0(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=e1(e+"");if(arguments.length<2){for(var r=e2(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?e3:e4)(this,e)}}:t?function(e){return function(){e3(this,e)}}:function(e){return function(){e4(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?e6:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?e8:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(e7)},lower:function(){return this.each(e9)},append:function(e){var t="function"==typeof e?e:te(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:te(e),r=null==t?tt:"function"==typeof t?t:e$(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(tn)},clone:function(e){return this.select(e?to:tr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value}return}for(r=0,s=t?ta:ti;r<a;++r)this.each(s(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return ts(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return ts(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};function td(e){return((e=Math.exp(e))+1/e)/2}(function(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}).prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],u=e[2],c=o[0],d=o[1],f=o[2],h=c-s,p=d-l,g=h*h+p*p;if(g<1e-12)a=Math.log(f/u)/t,i=function(e){return[s+e*h,l+e*p,u*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),y=(f*f-u*u+r*g)/(2*u*n*m),b=(f*f-u*u-r*g)/(2*f*n*m),v=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(b*b+1)-b)-v)/t,i=function(e){var r,o,i=e*a,c=td(v),d=u/(n*m)*(c*(((r=Math.exp(2*(r=t*i+v)))-1)/(r+1))-((o=Math.exp(o=v))-1/o)/2);return[s+d*h,l+d*p,u*c/td(t*i+v)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var tf,th,tp=0,tg=0,tm=0,ty=0,tb=0,tv=0,tx="object"==typeof performance&&performance.now?performance:Date,tw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function t_(){return tb||(tw(tE),tb=tx.now()+tv)}function tE(){tb=0}function tS(){this._call=this._time=this._next=null}function tk(e,t,n){var r=new tS;return r.restart(e,t,n),r}function tC(){tb=(ty=tx.now())+tv,tp=tg=0;try{!function(){t_(),++tp;for(var e,t=tf;t;)(e=tb-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tp}()}finally{tp=0,function(){for(var e,t,n=tf,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:tf=t);th=e,tN(r)}(),tb=0}}function tR(){var e=tx.now(),t=e-ty;t>1e3&&(tv-=t,ty=e)}function tN(e){!tp&&(tg&&(tg=clearTimeout(tg)),e-tb>24?(e<1/0&&(tg=setTimeout(tC,e-tx.now()-tv)),tm&&(tm=clearInterval(tm))):(tm||(ty=tx.now(),tm=setInterval(tR,1e3)),tp=1,tw(tC)))}function tA(e,t,n){var r=new tS;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}tS.prototype=tk.prototype={constructor:tS,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?t_():+n)+(null==t?0:+t),this._next||th===this||(th?th._next=this:tf=this,th=this),this._call=e,this._time=n,tN()},stop:function(){this._call&&(this._call=null,this._time=1/0,tN())}};var tM=eP("start","end","cancel","interrupt"),tP=[];function tj(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(e,t,n){var r,o=e.__transition;function i(l){var u,c,d,f;if(1!==n.state)return s();for(u in o)if((f=o[u]).name===n.name){if(3===f.state)return tA(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[u])}if(tA(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=tk(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)})(e,n,{name:t,index:r,group:o,on:tM,tween:tP,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function tO(e,t){var n=t$(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function tI(e,t){var n=t$(e,t);if(n.state>3)throw Error("too late; already running");return n}function t$(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function tT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var tD=180/Math.PI,tz={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tL(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*tD,skewX:Math.atan(l)*tD,scaleX:a,scaleY:s}}function tH(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s,l,u,c,d=[],f=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:tT(e,o)},{i:l-2,x:tT(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,d,f),(s=i.rotate)!==(l=a.rotate)?(s-l>180?l+=360:l-s>180&&(s+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:tT(s,l)})):l&&d.push(o(d)+"rotate("+l+r),(u=i.skewX)!==(c=a.skewX)?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:tT(u,c)}):c&&d.push(o(d)+"skewX("+c+r),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:tT(e,n)},{i:s-2,x:tT(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,d,f),i=a=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var tB=tH(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tz:tL(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),tF=tH(function(e){return null==e?tz:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),e=r.transform.baseVal.consolidate())?tL((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):tz},", ",")",")");function tU(e,t,n){var r=e._id;return e.each(function(){var e=tI(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return t$(e,r).value[t]}}function tW(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tq(){}var tX="\\s*([+-]?\\d+)\\s*",tK="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tY="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tZ=/^#([0-9a-f]{3,8})$/,tG=RegExp(`^rgb\\(${tX},${tX},${tX}\\)$`),tQ=RegExp(`^rgb\\(${tY},${tY},${tY}\\)$`),tJ=RegExp(`^rgba\\(${tX},${tX},${tX},${tK}\\)$`),t0=RegExp(`^rgba\\(${tY},${tY},${tY},${tK}\\)$`),t1=RegExp(`^hsl\\(${tK},${tY},${tY}\\)$`),t2=RegExp(`^hsla\\(${tK},${tY},${tY},${tK}\\)$`),t5={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function t3(){return this.rgb().formatHex()}function t4(){return this.rgb().formatRgb()}function t6(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?t8(t):3===n?new ne(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?t7(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?t7(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tG.exec(e))?new ne(t[1],t[2],t[3],1):(t=tQ.exec(e))?new ne(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tJ.exec(e))?t7(t[1],t[2],t[3],t[4]):(t=t0.exec(e))?t7(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=t1.exec(e))?na(t[1],t[2]/100,t[3]/100,1):(t=t2.exec(e))?na(t[1],t[2]/100,t[3]/100,t[4]):t5.hasOwnProperty(e)?t8(t5[e]):"transparent"===e?new ne(NaN,NaN,NaN,0):null}function t8(e){return new ne(e>>16&255,e>>8&255,255&e,1)}function t7(e,t,n,r){return r<=0&&(e=t=n=NaN),new ne(e,t,n,r)}function t9(e,t,n,r){var o;return 1==arguments.length?((o=e)instanceof tq||(o=t6(o)),o)?new ne((o=o.rgb()).r,o.g,o.b,o.opacity):new ne:new ne(e,t,n,null==r?1:r)}function ne(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function nt(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}`}function nn(){let e=nr(this.opacity);return`${1===e?"rgb(":"rgba("}${no(this.r)}, ${no(this.g)}, ${no(this.b)}${1===e?")":`, ${e})`}`}function nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function no(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ni(e){return((e=no(e))<16?"0":"")+e.toString(16)}function na(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nl(e,t,n,r)}function ns(e){if(e instanceof nl)return new nl(e.h,e.s,e.l,e.opacity);if(e instanceof tq||(e=t6(e)),!e)return new nl;if(e instanceof nl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+(n<r)*6:n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new nl(a,s,l,e.opacity)}function nl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nu(e){return(e=(e||0)%360)<0?e+360:e}function nc(e){return Math.max(0,Math.min(1,e||0))}function nd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function nf(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}tW(tq,t6,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:t3,formatHex:t3,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ns(this).formatHsl()},formatRgb:t4,toString:t4}),tW(ne,t9,tV(tq,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ne(no(this.r),no(this.g),no(this.b),nr(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nt,formatHex:nt,formatHex8:function(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}${ni((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:nn,toString:nn})),tW(nl,function(e,t,n,r){return 1==arguments.length?ns(e):new nl(e,t,n,null==r?1:r)},tV(tq,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new nl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new nl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ne(nd(e>=240?e-240:e+120,o,r),nd(e,o,r),nd(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new nl(nu(this.h),nc(this.s),nc(this.l),nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=nr(this.opacity);return`${1===e?"hsl(":"hsla("}${nu(this.h)}, ${100*nc(this.s)}%, ${100*nc(this.l)}%${1===e?")":`, ${e})`}`}}));let nh=e=>()=>e;function np(e,t){var n=t-e;return n?function(t){return e+t*n}:nh(isNaN(e)?t:e)}let ng=function e(t){var n,r=1==(n=+(n=t))?np:function(e,t){var r,o,i;return t-e?(r=e,o=t,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):nh(isNaN(e)?t:e)};function o(e,t){var n=r((e=t9(e)).r,(t=t9(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=np(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function nm(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),s=Array(o);for(n=0;n<o;++n)r=t9(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}nm(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return nf((n-r/t)*t,a,o,i,s)}}),nm(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return nf((n-r/t)*t,o,i,a,s)}});var ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nb=RegExp(ny.source,"g");function nv(e,t){var n;return("number"==typeof t?tT:t instanceof t6?ng:(n=t6(t))?(t=n,ng):function(e,t){var n,r,o,i,a,s=ny.lastIndex=nb.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(o=ny.exec(e))&&(i=nb.exec(t));)(a=i.index)>s&&(a=t.slice(s,a),u[l]?u[l]+=a:u[++l]=a),(o=o[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:tT(o,i)})),s=nb.lastIndex;return s<t.length&&(a=t.slice(s),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})})(e,t)}var nx=tc.prototype.constructor;function nw(e){return function(){this.style.removeProperty(e)}}var n_=0;function nE(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var nS=tc.prototype;nE.prototype=(function(e){return tc().transition(e)}).prototype={constructor:nE,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=e$(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var s,l,u=r[a],c=u.length,d=i[a]=Array(c),f=0;f<c;++f)(s=u[f])&&(l=e.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,tj(d[f],t,n,f,d,t$(s,n)));return new nE(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=eD(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var f,h=e.call(l,l.__data__,d,u),p=t$(l,n),g=0,m=h.length;g<m;++g)(f=h[g])&&tj(f,t,n,g,h,p);i.push(h),a.push(l)}return new nE(i,a,t,n)},selectChild:nS.selectChild,selectChildren:nS.selectChildren,filter:function(e){"function"!=typeof e&&(e=ez(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],u=0;u<s;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&l.push(i);return new nE(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),s=0;s<i;++s)for(var l,u=t[s],c=n[s],d=u.length,f=a[s]=Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<r;++s)a[s]=t[s];return new nE(a,this._parents,this._name,this._id)},selection:function(){return new nx(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++n_,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=t$(a,t);tj(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nE(r,this._parents,e,n)},call:nS.call,nodes:nS.nodes,node:nS.node,size:nS.size,empty:nS.empty,each:nS.each,on:function(e,t){var n,r,o,i=this._id;return arguments.length<2?t$(this.node(),i).on.on(e):this.each((o=(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?tO:tI,function(){var a=o(this,i),s=a.on;s!==n&&(r=(n=s).copy()).on(e,t),a.on=r}))},attr:function(e,t){var n=eQ(e),r="transform"===n?tF:nv;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l))}}:function(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l))}})(n,r,tU(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=eQ(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r,o,i,a,s,l,u,c,d,f,h,p,g,m,y,b,v,x,w,_,E,S="transform"==(e+="")?tB:nv;return null==t?this.styleTween(e,(r=e,function(){var e=e0(this,r),t=(this.style.removeProperty(r),e0(this,r));return e===t?null:e===o&&t===i?a:a=S(o=e,i=t)})).on("end.style."+e,nw(e)):"function"==typeof t?this.styleTween(e,(s=e,l=tU(this,"style."+e,t),function(){var e=e0(this,s),t=l(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=e0(this,s)),e===n?null:e===u&&n===c?d:(c=n,d=S(u=e,t))})).each((f=this._id,v="end."+(b="style."+(h=e)),function(){var e=tI(this,f),t=e.on,n=null==e.value[b]?y||(y=nw(h)):void 0;(t!==p||m!==n)&&(g=(p=t).copy()).on(v,m=n),e.on=g})):this.styleTween(e,(x=e,E=t+"",function(){var e=e0(this,x);return e===E?null:e===w?_:_=S(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=tU(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=t$(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=tI(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=tI(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){tO(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){tO(this,e).delay=t}})(t,e)):t$(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){tI(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){tI(this,e).duration=t}})(t,e)):t$(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){tI(this,e).ease=t}}(t,e)):t$(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();tI(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each(function(){var n=tI(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===o&&i()})},[Symbol.iterator]:nS[Symbol.iterator]};var nk={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};tc.prototype.interrupt=function(e){return this.each(function(){(function(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}})(this,e)})},tc.prototype.transition=function(e){var t,n;e instanceof nE?(t=e._id,e=e._name):(t=++n_,(n=nk).time=t_(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,u=0;u<l;++u)(a=s[u])&&tj(a,e,t,u,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new nE(r,this._parents,e,t)};function nC(e,t,n){this.k=e,this.x=t,this.y=n}nC.prototype={constructor:nC,scale:function(e){return 1===e?this:new nC(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new nC(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nR=new nC(1,0,0);nC.prototype;let nN={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},nA=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nM=["Enter"," ","Escape"];(function(e){e.Strict="strict",e.Loose="loose"})(o||(o={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(i||(i={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={}));let nP={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(s||(s={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(l||(l={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(u||(u={}));let nj={[u.Left]:u.Right,[u.Right]:u.Left,[u.Top]:u.Bottom,[u.Bottom]:u.Top};function nO(e){return null===e?null:e?"valid":"invalid"}let nI=e=>"id"in e&&"source"in e&&"target"in e,n$=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),nT=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nD=(e,t=[0,0])=>{let{width:n,height:r}=rn(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},nz=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>0===e.length?{x:0,y:0,width:0,height:0}:nQ(e.reduce((e,n)=>{let r="string"==typeof n,o=t.nodeLookup||r?void 0:n;return t.nodeLookup&&(o=r?t.nodeLookup.get(n):nT(n)?n:t.nodeLookup.get(n.id)),nZ(e,o?n0(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),nL=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){let t=n0(e);n=nZ(n,t)}}),nQ(n)},nH=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{let s={...n8(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;let o=e.width??t.width??t.initialWidth??null,u=e.height??t.height??t.initialHeight??null,c=n2(s,nJ(t)),d=(o??0)*(u??0),f=i&&c>0;(!t.internals.handleBounds||f||c>=d||t.dragging)&&l.push(t)}return l},nB=(e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))};function nF(e,t){let n=new Map,r=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&(t?.includeHiddenNodes||!e.hidden)&&(!r||r.has(e.id))&&n.set(e.id,e)}),n}async function nU({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===e.size)return Promise.resolve(!1);let s=n9(nL(e),t,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(s,{duration:a?.duration}),Promise.resolve(!0)}async function nW({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){let i=new Set(e.map(e=>e.id)),a=[];for(let e of n){if(!1===e.deletable)continue;let t=i.has(e.id),n=!t&&e.parentId&&a.find(t=>t.id===e.parentId);(t||n)&&a.push(e)}let s=new Set(t.map(e=>e.id)),l=r.filter(e=>!1!==e.deletable),u=nB(a,l);for(let e of l)s.has(e.id)&&!u.find(t=>t.id===e.id)&&u.push(e);if(!o)return{edges:u,nodes:a};let c=await o({nodes:a,edges:u});return"boolean"==typeof c?c?{edges:u,nodes:a}:{edges:[],nodes:[]}:c}let nV=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),nq=(e={x:0,y:0},t,n)=>({x:nV(e.x,t[0][0],t[1][0]-(n?.width??0)),y:nV(e.y,t[0][1],t[1][1]-(n?.height??0))});function nX(e,t,n){let{width:r,height:o}=rn(n),{x:i,y:a}=n.internals.positionAbsolute;return nq(e,[[i,a],[i+r,a+o]],t)}let nK=(e,t,n)=>e<t?nV(Math.abs(e-t),1,t)/t:e>n?-nV(Math.abs(e-n),1,t)/t:0,nY=(e,t,n=15,r=40)=>[nK(e.x,r,t.width-r)*n,nK(e.y,r,t.height-r)*n],nZ=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),nG=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),nQ=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),nJ=(e,t=[0,0])=>{let{x:n,y:r}=nT(e)?e.internals.positionAbsolute:nD(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},n0=(e,t=[0,0])=>{let{x:n,y:r}=nT(e)?e.internals.positionAbsolute:nD(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},n1=(e,t)=>nQ(nZ(nG(e),nG(t))),n2=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),n5=e=>n3(e.width)&&n3(e.height)&&n3(e.x)&&n3(e.y),n3=e=>!isNaN(e)&&isFinite(e),n4=(e,t)=>{},n6=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),n8=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{let s={x:(e-n)/o,y:(t-r)/o};return i?n6(s,a):s},n7=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),n9=(e,t,n,r,o,i)=>{let a=nV(Math.min(t/(e.width*(1+i)),n/(e.height*(1+i))),r,o);return{x:t/2-(e.x+e.width/2)*a,y:n/2-(e.y+e.height/2)*a,zoom:a}},re=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function rt(e){return void 0!==e&&"parent"!==e}function rn(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function rr(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}let ro=e=>({width:e.offsetWidth,height:e.offsetHeight}),ri=e=>e.getRootNode?.()||window?.document,ra=["INPUT","SELECT","TEXTAREA"],rs=e=>"clientX"in e,rl=(e,t)=>{let n=rs(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},ru=(e,t,n,r,o)=>{let i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...ro(t)}}):null};function rc({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){let l=.125*e+.375*o+.375*a+.125*n,u=.125*t+.375*i+.375*s+.125*r,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function rd(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function rf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case u.Left:return[t-rd(t-r,i),n];case u.Right:return[t+rd(r-t,i),n];case u.Top:return[t,n-rd(n-o,i)];case u.Bottom:return[t,n+rd(o-n,i)]}}function rh({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top,curvature:a=.25}){let[s,l]=rf({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,d]=rf({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[f,h,p,g]=rc({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${s},${l} ${c},${d} ${r},${o}`,f,h,p,g]}function rp({sourceX:e,sourceY:t,targetX:n,targetY:r}){let o=Math.abs(n-e)/2,i=Math.abs(r-t)/2;return[n<e?n+o:n-o,r<t?r+i:r-i,o,i]}let rg=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,rm=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),ry=(e,t)=>{let n;return e.source&&e.target?rm(n=nI(e)?{...e}:{...e,id:rg(e)},t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n)):(n4("006",nN.error006()),t)};function rb({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[o,i,a,s]=rp({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}let rv={[u.Left]:{x:-1,y:0},[u.Right]:{x:1,y:0},[u.Top]:{x:0,y:-1},[u.Bottom]:{x:0,y:1}},rx=({source:e,sourcePosition:t=u.Bottom,target:n})=>t===u.Left||t===u.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},rw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function r_({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){let[d,f,h,p,g]=function({source:e,sourcePosition:t=u.Bottom,target:n,targetPosition:r=u.Top,center:o,offset:i}){let a,s;let l=rv[t],c=rv[r],d={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+c.x*i,y:n.y+c.y*i},h=rx({source:d,sourcePosition:t,target:f}),p=0!==h.x?"x":"y",g=h[p],m=[],y={x:0,y:0},b={x:0,y:0},[v,x,w,_]=rp({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[p]*c[p]==-1){a=o.x??v,s=o.y??x;let e=[{x:a,y:d.y},{x:a,y:f.y}],t=[{x:d.x,y:s},{x:f.x,y:s}];m=l[p]===g?"x"===p?e:t:"x"===p?t:e}else{let o=[{x:d.x,y:f.y}],u=[{x:f.x,y:d.y}];if(m="x"===p?l.x===g?u:o:l.y===g?o:u,t===r){let t=Math.abs(e[p]-n[p]);if(t<=i){let r=Math.min(i-1,i-t);l[p]===g?y[p]=(d[p]>e[p]?-1:1)*r:b[p]=(f[p]>n[p]?-1:1)*r}}if(t!==r){let e="x"===p?"y":"x",t=l[p]===c[e],n=d[e]>f[e],r=d[e]<f[e];(1===l[p]&&(!t&&n||t&&r)||1!==l[p]&&(!t&&r||t&&n))&&(m="x"===p?o:u)}let h={x:d.x+y.x,y:d.y+y.y},v={x:f.x+b.x,y:f.y+b.y};Math.max(Math.abs(h.x-m[0].x),Math.abs(v.x-m[0].x))>=Math.max(Math.abs(h.y-m[0].y),Math.abs(v.y-m[0].y))?(a=(h.x+v.x)/2,s=m[0].y):(a=m[0].x,s=(h.y+v.y)/2)}return[[e,{x:d.x+y.x,y:d.y+y.y},...m,{x:f.x+b.x,y:f.y+b.y},n],a,s,w,_]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:c});return[d.reduce((e,t,n)=>e+(n>0&&n<d.length-1?function(e,t,n,r){let o=Math.min(rw(e,t)/2,rw(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${i+o*t},${a}Q ${i},${a} ${i},${a+o*r}`}let s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+o*l}Q ${i},${a} ${i+o*s},${a}`}(d[n-1],t,d[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),f,h,p,g]}function rE(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function rS(e){if(!e)return null;let t=[],n=[];for(let r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function rk(e,t,n=u.Left,r=!1){let o=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??rn(e);if(r)return{x:o+a/2,y:i+s/2};switch(t?.position??n){case u.Top:return{x:o+a/2,y:i};case u.Right:return{x:o+a,y:i+s/2};case u.Bottom:return{x:o+a/2,y:i+s};case u.Left:return{x:o,y:i+s/2}}}function rC(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function rR(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}let rN={nodeOrigin:[0,0],nodeExtent:nA,elevateNodesOnSelect:!0,defaults:{}},rA={...rN,checkEquality:!0};function rM(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function rP(e,t,n,r){let o=rM(rA,r),i=new Map(t),a=o?.elevateNodesOnSelect?1e3:0;for(let s of(t.clear(),n.clear(),e)){let e=i.get(s.id);if(o.checkEquality&&s===e?.internals.userNode)t.set(s.id,e);else{let n=nq(nD(s,o.nodeOrigin),rt(s.extent)?s.extent:o.nodeExtent,rn(s));e={...o.defaults,...s,measured:{width:s.measured?.width,height:s.measured?.height},internals:{positionAbsolute:n,handleBounds:s.measured?e?.internals.handleBounds:void 0,z:rO(s,a),userNode:s}},t.set(s.id,e)}s.parentId&&rj(e,t,n,r)}}function rj(e,t,n,r){let{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=rM(rN,r),s=e.parentId,l=t.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);let{x:u,y:c,z:d}=function(e,t,n,r,o){let{x:i,y:a}=t.internals.positionAbsolute,s=rn(e),l=nD(e,n),u=rt(e.extent)?nq(l,e.extent,s):l,c=nq({x:i+u.x,y:a+u.y},r,s);"parent"===e.extent&&(c=nX(c,s,t));let d=rO(e,o),f=t.internals.z??0;return{x:c.x,y:c.y,z:f>d?f:d}}(e,l,i,a,o?1e3:0),{positionAbsolute:f}=e.internals,h=u!==f.x||c!==f.y;(h||d!==e.internals.z)&&(e.internals={...e.internals,positionAbsolute:h?{x:u,y:c}:f,z:d})}function rO(e,t){return(n3(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function rI(e,t,n,r=[0,0]){let o=[],i=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let r=n1(i.get(n.parentId)?.expandedRect??nJ(e),n.rect);i.set(n.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach(({expandedRect:t,parent:i},a)=>{let s=i.internals.positionAbsolute,l=rn(i),u=i.origin??r,c=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,f=Math.max(l.width,Math.round(t.width)),h=Math.max(l.height,Math.round(t.height)),p=(f-l.width)*u[0],g=(h-l.height)*u[1];(c>0||d>0||p||g)&&(o.push({id:a,type:"position",position:{x:i.position.x-c+p,y:i.position.y-d+g}}),n.get(a)?.forEach(t=>{e.some(e=>e.id===t.id)||o.push({id:t.id,type:"position",position:{x:t.position.x+c,y:t.position.y+d}})})),(l.width<t.width||l.height<t.height||c||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:f+(c?u[0]*c-p:0),height:h+(d?u[1]*d-g:0)}})}),o}async function r$({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function rT(e,t,n){for(let r of(e.clear(),t.clear(),n)){let{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s=`${n}-source-${i}`,l=`${o}-target-${a}`,u=e.get(s)||new Map,c=e.get(l)||new Map,d={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a};t.set(r.id,r),e.set(s,u.set(`${o}-${a}`,d)),e.set(l,c.set(`${n}-${i}`,d))}}function rD(e,t,n,r,o,i=!1){let a=r.get(e);if(!a)return null;let s="strict"===o?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],l=(n?s?.find(e=>e.id===n):s?.[0])??null;return l&&i?{...l,...rk(a,l,l.position,!0)}:l}function rz(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}let rL=()=>!0;function rH(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:a,doc:s,lib:l,flowId:u,isValidConnection:c=rL,nodeLookup:d}){let f="target"===a,h=t?s.querySelector(`.${l}-flow__handle[data-id="${u}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=rl(e),m=s.elementFromPoint(p,g),y=m?.classList.contains(`${l}-flow__handle`)?m:h,b={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){let e=rz(void 0,y),t=y.getAttribute("data-nodeid"),a=y.getAttribute("data-handleid"),s=y.classList.contains("connectable"),l=y.classList.contains("connectableend");if(!t||!e)return b;let u={source:f?t:r,sourceHandle:f?a:i,target:f?r:t,targetHandle:f?i:a};b.connection=u;let h=s&&l&&(n===o.Strict?f&&"source"===e||!f&&"target"===e:t!==r||a!==i);b.isValid=h&&c(u),b.toHandle=rD(t,e,a,d,n,!1)}return b}let rB={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:p,onConnectStart:g,onConnect:m,onConnectEnd:y,isValidConnection:b=rL,onReconnectEnd:v,updateConnection:x,getTransform:w,getFromHandle:_,autoPanSpeed:E}){let S;let k=ri(e.target),C=0,{x:R,y:N}=rl(e),A=rz(i,k?.elementFromPoint(R,N)),M=s?.getBoundingClientRect();if(!M||!A)return;let P=rD(o,A,r,l,t);if(!P)return;let j=rl(e,M),O=!1,I=null,$=!1,T=null,D={...P,nodeId:o,type:A,position:P.position},z=l.get(o),L={inProgress:!0,isValid:null,from:rk(z,D,u.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:z,to:j,toHandle:null,toPosition:nj[D.position],toNode:null};x(L);let H=L;function B(e){var i,s;let u;if(!_()||!D){F(e);return}let p=w();S=function(e,t,n,r){let o=[],i=1/0;for(let a of function(e,t,n){let r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())n2(o,nJ(e))>0&&r.push(e);return r}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:s,y:l}=rk(a,n,n.position,!0),u=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(l-e.y,2));u>t||(u<i?(o=[{...n,x:s,y:l}],i=u):u===i&&o.push({...n,x:s,y:l}))}if(!o.length)return null;if(o.length>1){let e="source"===r.type?"target":"source";return o.find(t=>t.type===e)??o[0]}return o[0]}(n8(j=rl(e,M),p,!1,[1,1]),n,l,D),O||(function e(){if(!d||!M)return;let[t,n]=nY(j,M,E);h({x:t,y:n}),C=requestAnimationFrame(e)}(),O=!0);let g=rH(e,{handle:S,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:b,doc:k,lib:c,flowId:f,nodeLookup:l});T=g.handleDomNode,I=g.connection,i=!!S,s=g.isValid,u=null,s?u=!0:i&&!s&&(u=!1),$=u;let m={...H,isValid:$,to:S&&$?n7({x:S.x,y:S.y},p):j,toHandle:g.toHandle,toPosition:$&&g.toHandle?g.toHandle.position:nj[D.position],toNode:g.toHandle?l.get(g.toHandle.nodeId):null};$&&S&&H.toHandle&&m.toHandle&&H.toHandle.type===m.toHandle.type&&H.toHandle.nodeId===m.toHandle.nodeId&&H.toHandle.id===m.toHandle.id&&H.to.x===m.to.x&&H.to.y===m.to.y||(x(m),H=m)}function F(e){(S||T)&&I&&$&&m?.(I);let{inProgress:t,...n}=H,r={...n,toPosition:H.toHandle?H.toPosition:null};y?.(e,r),i&&v?.(e,r),p(),cancelAnimationFrame(C),O=!1,$=!1,I=null,T=null,k.removeEventListener("mousemove",B),k.removeEventListener("mouseup",F),k.removeEventListener("touchmove",B),k.removeEventListener("touchend",F)}g?.(e,{nodeId:o,handleId:r,handleType:A}),k.addEventListener("mousemove",B),k.addEventListener("mouseup",F),k.addEventListener("touchmove",B),k.addEventListener("touchend",F)},isValid:rH};function rF(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=rF(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}!function(e){e.Line="line",e.Handle="handle"}(c||(c={}));let{useDebugValue:rU}=g,{useSyncExternalStoreWithSelector:rW}=y,rV=e=>e;function rq(e,t=rV,n){let r=rW(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return rU(r),r}let rX=(e,t)=>{let n=p(e),r=(e,r=t)=>rq(n,e,r);return Object.assign(r,n),r},rK=(e,t)=>e?rX(e,t):rX;function rY(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}n(5740);let rZ=(0,g.createContext)(null),rG=rZ.Provider,rQ=nN.error001();function rJ(e,t){let n=(0,g.useContext)(rZ);if(null===n)throw Error(rQ);return rq(n,e,t)}function r0(){let e=(0,g.useContext)(rZ);if(null===e)throw Error(rQ);return(0,g.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let r1={display:"none"},r2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},r5="react-flow__node-desc",r3="react-flow__edge-desc",r4=e=>e.ariaLiveMessage;function r6({rfId:e}){let t=rJ(r4);return(0,f.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:r2,children:t})}function r8({rfId:e,disableKeyboardA11y:t}){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{id:`${r5}-${e}`,style:r1,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,f.jsx)("div",{id:`${r3}-${e}`,style:r1,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,f.jsx)(r6,{rfId:e})]})}let r7=e=>e.userSelectionActive?"none":"all",r9=(0,g.forwardRef)(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{let a=rJ(r7),s=`${e}`.split("-");return(0,f.jsx)("div",{className:rF(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},ref:i,...o,children:t})});function oe({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,f.jsx)(r9,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,f.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}let ot=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},on=e=>e.id;function or(e,t){return rY(e.selectedNodes.map(on),t.selectedNodes.map(on))&&rY(e.selectedEdges.map(on),t.selectedEdges.map(on))}function oo({onSelectionChange:e}){r0();let{selectedNodes:t,selectedEdges:n}=rJ(ot,or);return null}let oi=e=>!!e.onSelectionChangeHandlers;function oa({onSelectionChange:e}){let t=rJ(oi);return e||t?(0,f.jsx)(oo,{onSelectionChange:e}):null}let os=[0,0],ol={x:0,y:0,zoom:1},ou=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],oc=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),od={translateExtent:nA,nodeOrigin:os,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function of(e){let{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=rJ(oc,rY),c=r0(),d=(0,g.useRef)(od);return(0,g.useEffect)(()=>{for(let s of ou){let l=e[s];l!==d.current[s]&&void 0!==e[s]&&("nodes"===s?t(l):"edges"===s?n(l):"minZoom"===s?r(l):"maxZoom"===s?o(l):"translateExtent"===s?i(l):"nodeExtent"===s?a(l):"paneClickDistance"===s?u(l):"fitView"===s?c.setState({fitViewOnInit:l}):"fitViewOptions"===s?c.setState({fitViewOnInitOptions:l}):c.setState({[s]:l}))}d.current=e},ou.map(t=>e[t])),null}let oh="undefined"!=typeof document?document:null;function op(e=null,t={target:oh,actInsideInputWithModifier:!0}){let[n,r]=(0,g.useState)(!1);(0,g.useRef)(!1),(0,g.useRef)(new Set([]));let[o,i]=(0,g.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return n}let og=()=>{let e=r0();return(0,g.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{let{nodeLookup:n,minZoom:r,maxZoom:o,panZoom:i,domNode:a}=e.getState();if(!i||!a)return Promise.resolve(!1);let s=nF(n,t),{width:l,height:u}=ro(a);return nU({nodes:s,width:l,height:u,minZoom:r,maxZoom:o,panZoom:i},t)},setCenter:async(t,n,r)=>{let{width:o,height:i,maxZoom:a,panZoom:s}=e.getState(),l=void 0!==r?.zoom?r.zoom:a;return s?(await s.setViewport({x:o/2-t*l,y:i/2-n*l,zoom:l},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{let{width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=n9(t,r,o,i,a,n?.padding??.1);return s?(await s.setViewport(l,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={snapToGrid:!0})=>{let{transform:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;let{x:a,y:s}=i.getBoundingClientRect();return n8({x:t.x-a,y:t.y-s},r,n.snapToGrid,o)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:o,y:i}=r.getBoundingClientRect(),a=n7(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function om(e,t){let n=[],r=new Map,o=[];for(let t of e){if("add"===t.type){o.push(t);continue}if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{let e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}}for(let e of t){let t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let o={...e};for(let e of t)(function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}})(e,o);n.push(o)}return o.length&&o.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function oy(e,t){return{id:e,type:"select",selected:t}}function ob(e,t=new Set,n=!1){let r=[];for(let[o,i]of e){let e=t.has(o);(void 0!==i.selected||e)&&i.selected!==e&&(n&&(i.selected=e),r.push(oy(i.id,e)))}return r}function ov({items:e=[],lookup:t}){let n=[],r=new Map(e.map(e=>[e.id,e]));for(let[r,o]of e.entries()){let e=t.get(o.id),i=e?.internals?.userNode??e;void 0!==i&&i!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===i&&n.push({item:o,type:"add",index:r})}for(let[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function ox(e){return{id:e.id,type:"remove"}}let ow=e=>n$(e),o_=e=>nI(e);function oE(e){return(0,g.forwardRef)(e)}let oS=g.useEffect;function ok(e){let[t,n]=(0,g.useState)(BigInt(0)),[r]=(0,g.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return oS(()=>{let t=r.get();t.length&&(e(t),r.reset())},[t]),r}let oC=(0,g.createContext)(null);function oR({children:e}){let t=r0(),n=ok((0,g.useCallback)(e=>{let{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(ov({items:s,lookup:a}))},[])),r=ok((0,g.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(ov({items:s,lookup:a}))},[])),o=(0,g.useMemo)(()=>({nodeQueue:n,edgeQueue:r}),[]);return(0,f.jsx)(oC.Provider,{value:o,children:e})}let oN=e=>!!e.panZoom;function oA(){let e=og(),t=r0(),n=function(){let e=(0,g.useContext)(oC);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),r=rJ(oN),o=(0,g.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState(),o=ow(e)?e:n.get(e.id),i=o.parentId?function(e,t={width:0,height:0},n,r,o){let i={...e},a=r.get(n);if(a){let e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return i}(o.position,o.measured,o.parentId,n,r):o.position;return nJ({...o,position:i,width:o.measured?.width??o.width,height:o.measured?.height??o.height})},a=(e,t,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&ow(e)?e:{...r,...e}}return r}))},s=(e,t,n={replace:!1})=>{o(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&o_(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{let{nodes:r,edges:o,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:s,triggerEdgeChanges:l,onDelete:u,onBeforeDelete:c}=t.getState(),{nodes:d,edges:f}=await nW({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:c}),h=f.length>0,p=d.length>0;if(h){let e=f.map(ox);a?.(f),l(e)}if(p){let e=d.map(ox);i?.(d),s(e)}return(p||h)&&u?.({nodes:d,edges:f}),{deletedNodes:d,deletedEdges:f}},getIntersectingNodes:(e,n=!0,r)=>{let o=n5(e),a=o?e:i(e),s=void 0!==r;return a?(r||t.getState().nodes).filter(r=>{let i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;let l=n2(nJ(s?r:i),a);return n&&l>0||l>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let r=n5(e)?e:i(e);if(!r)return!1;let o=n2(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:s,updateEdgeData:(e,t,n={replace:!1})=>{s(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState();return nz(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}-${n??null}`)?.values()??[])}},[]);return(0,g.useMemo)(()=>({...o,...e,viewportInitialized:r}),[r])}let oM={actInsideInputWithModifier:!1},oP=void 0,oj={position:"absolute",width:"100%",height:"100%",top:0,left:0},oO=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function oI({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=i.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:m=!0,children:y,noWheelClassName:b,noPanClassName:v,onViewportChange:x,isControlledViewport:w,paneClickDistance:_}){let E=r0(),S=(0,g.useRef)(null),{userSelectionActive:k,lib:C}=rJ(oO,rY);return op(p),(0,g.useRef)(),r0(),(0,g.useCallback)(e=>{x?.({x:e[0],y:e[1],zoom:e[2]}),w||E.setState({transform:e})},[x,w]),(0,f.jsx)("div",{className:"react-flow__renderer",ref:S,style:oj,children:y})}let o$=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oT(){let{userSelectionActive:e,userSelectionRect:t}=rJ(o$,rY);return e&&t?(0,f.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let oD=(e,t)=>n=>{n.target===t.current&&e?.(n)},oz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function oL({isSelecting:e,selectionKeyPressed:t,selectionMode:n=a.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:p,children:m}){let y=(0,g.useRef)(null),b=r0(),v=(0,g.useRef)(0),x=(0,g.useRef)(0),w=(0,g.useRef)(),_=(0,g.useRef)(new Map),{userSelectionActive:E,elementsSelectable:S,dragging:k}=rJ(oz,rY),C=S&&(e||E),R=(0,g.useRef)(!1),N=(0,g.useRef)(!1),A=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},M=e=>{if(R.current){R.current=!1;return}l?.(e),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},P=!0===r||Array.isArray(r)&&r.includes(0);return(0,f.jsxs)("div",{className:rF(["react-flow__pane",{draggable:P,dragging:k,selection:e}]),onClick:C?void 0:oD(M,y),onContextMenu:oD(e=>{if(Array.isArray(r)&&r?.includes(2)){e.preventDefault();return}u?.(e)},y),onWheel:oD(c?e=>c(e):void 0,y),onPointerEnter:C?void 0:d,onPointerDown:C?t=>{let{resetSelectedElements:n,domNode:r,edgeLookup:o}=b.getState();if(w.current=r?.getBoundingClientRect(),!S||!e||0!==t.button||t.target!==y.current||!w.current)return;for(let[e,n]of(t.target?.setPointerCapture?.(t.pointerId),N.current=!0,R.current=!1,_.current=new Map,o))_.current.set(n.source,_.current.get(n.source)?.add(e)||new Set([e])),_.current.set(n.target,_.current.get(n.target)?.add(e)||new Set([e]));let{x:a,y:s}=rl(t.nativeEvent,w.current);n(),b.setState({userSelectionRect:{width:0,height:0,startX:a,startY:s,x:a,y:s}}),i?.(t)}:h,onPointerMove:C?e=>{let{userSelectionRect:t,edgeLookup:r,transform:o,nodeLookup:i,triggerNodeChanges:s,triggerEdgeChanges:l}=b.getState();if(!w.current||!t)return;R.current=!0;let{x:u,y:c}=rl(e.nativeEvent,w.current),{startX:d,startY:f}=t,h={startX:d,startY:f,x:u<d?u:d,y:c<f?c:f,width:Math.abs(u-d),height:Math.abs(c-f)},p=nH(i,h,o,n===a.Partial,!0),g=new Set,m=new Set;for(let e of p){m.add(e.id);let t=_.current.get(e.id);if(t)for(let e of t)g.add(e)}v.current!==m.size&&(v.current=m.size,s(ob(i,m,!0))),x.current!==g.size&&(x.current=g.size,l(ob(r,g))),b.setState({userSelectionRect:h,userSelectionActive:!0,nodesSelectionActive:!1})}:h,onPointerUp:C?e=>{if(0!==e.button||!N.current)return;e.target?.releasePointerCapture?.(e.pointerId);let{userSelectionRect:n}=b.getState();!E&&n&&e.target===y.current&&M?.(e),v.current>0&&b.setState({nodesSelectionActive:!0}),A(),s?.(e),(t||o)&&(R.current=!1),N.current=!1}:void 0,onPointerLeave:p,ref:y,style:oj,children:[m,(0,f.jsx)(oT,{})]})}function oH({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l?.("012",nN.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function oB({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:a}){r0();let[s,l]=(0,g.useState)(!1);return(0,g.useRef)(),s}let oF=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function oU(){let e=r0();return(0,g.useCallback)(t=>{let{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:s,nodeLookup:l,nodeOrigin:u}=e.getState(),c=new Map,d=oF(i),f=r?o[0]:5,h=r?o[1]:5,p=t.direction.x*f*t.factor,g=t.direction.y*h*t.factor;for(let[,e]of l){if(!d(e))continue;let t={x:e.internals.positionAbsolute.x+p,y:e.internals.positionAbsolute.y+g};r&&(t=n6(t,o));let{position:i,positionAbsolute:s}=function({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){let a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r,d=o;if("parent"!==a.extent||a.expandParent)s&&rt(a.extent)&&(d=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);else if(s){let e=s.measured.width,t=s.measured.height;e&&t&&(d=[[l,u],[l+e,u+t]])}else i?.("005",nN.error005());let f=rt(d)?nq(t,d,a.measured):t;return{position:{x:f.x-l+a.measured.width*c[0],y:f.y-u+a.measured.height*c[1]},positionAbsolute:f}}({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:u,onError:a});e.position=i,e.internals.positionAbsolute=s,c.set(e.id,e)}s(c)},[])}let oW=(0,g.createContext)(null),oV=oW.Provider;oW.Consumer;let oq=()=>(0,g.useContext)(oW),oX=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oK=(e,t,n)=>r=>{let{connectionClickStartHandle:i,connectionMode:a,connection:s}=r,{fromHandle:l,toHandle:u,isValid:c}=s,d=u?.nodeId===e&&u?.id===t&&u?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:d,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:a===o.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,valid:d&&c}},oY=(0,g.memo)(oE(function({type:e="source",position:t=u.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:d,onTouchStart:h,...p},g){let m=a||null,y="target"===e,b=r0(),v=oq(),{connectOnClick:x,noPanClassName:w,rfId:_}=rJ(oX,rY),{connectingFrom:E,connectingTo:S,clickConnecting:k,isPossibleEndHandle:C,connectionInProcess:R,valid:N}=rJ(oK(v,m,e),rY);v||b.getState().onError?.("010",nN.error010());let A=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=b.getState(),o={...t,...e};if(r){let{edges:e,setEdges:t}=b.getState();t(ry(o,e))}n?.(o),s?.(o)},M=e=>{if(!v)return;let t=rs(e.nativeEvent);if(o&&(t&&0===e.button||!t)){let t=b.getState();rB.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:y,handleId:m,nodeId:v,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:A,isValidConnection:n||t.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?d?.(e):h?.(e)};return(0,f.jsx)("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":t,"data-id":`${_}-${v}-${m}-${e}`,className:rF(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,c,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:i,clickconnecting:k,connectingfrom:E,connectingto:S,valid:N,connectionindicator:r&&(!R||C)&&(R?i:o)}]),onMouseDown:M,onTouchStart:M,onClick:x?t=>{let{onClickConnectStart:r,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l,lib:u,rfId:c,nodeLookup:d,connection:f}=b.getState();if(!v||!a&&!o)return;if(!a){r?.(t.nativeEvent,{nodeId:v,handleId:m,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,id:m}});return}let h=ri(t.target),p=n||l,{connection:g,isValid:y}=rB.isValid(t.nativeEvent,{handle:{nodeId:v,id:m,type:e},connectionMode:s,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:p,flowId:c,doc:h,lib:u,nodeLookup:d});y&&g&&A(g);let x=structuredClone(f);delete x.inProgress,x.toPosition=x.toHandle?x.toHandle.position:null,i?.(t,x),b.setState({connectionClickStartHandle:null})}:void 0,ref:g,...p,children:l})})),oZ={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},oG={input:function({data:e,isConnectable:t,sourcePosition:n=u.Bottom}){return(0,f.jsxs)(f.Fragment,{children:[e?.label,(0,f.jsx)(oY,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=u.Top,sourcePosition:r=u.Bottom}){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(oY,{type:"target",position:n,isConnectable:t}),e?.label,(0,f.jsx)(oY,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=u.Top}){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(oY,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},oQ=e=>{let{width:t,height:n,x:r,y:o}=nL(e.nodeLookup,{filter:e=>!!e.selected});return{width:n3(t)?t:null,height:n3(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function oJ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=r0(),{width:o,height:i,transformString:a,userSelectionActive:s}=rJ(oQ,rY),l=oU(),u=(0,g.useRef)(null);if(oB({nodeRef:u}),s||!o||!i)return null;let c=e?t=>{e(t,r.getState().nodes.filter(e=>e.selected))}:void 0;return(0,f.jsx)("div",{className:rF(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:(0,f.jsx)("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(oZ,e.key)&&(e.preventDefault(),l({direction:oZ[e.key],factor:e.shiftKey?4:1}))},style:{width:o,height:i}})})}let o0=void 0,o1=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function o2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:g,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:b,zoomOnScroll:v,zoomOnPinch:x,panOnScroll:w,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:k,defaultViewport:C,translateExtent:R,minZoom:N,maxZoom:A,preventScrolling:M,onSelectionContextMenu:P,noWheelClassName:j,noPanClassName:O,disableKeyboardA11y:I,onViewportChange:$,isControlledViewport:T}){let{nodesSelectionActive:D,userSelectionActive:z}=rJ(o1),L=op(u,{target:o0}),H=op(m,{target:o0}),B=H||k,F=H||w,U=c&&!0!==B,W=L||z||U;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){r0();let{deleteElements:n}=oA();op(e,oM),op(t,{target:oP})}({deleteKeyCode:l,multiSelectionKeyCode:g}),(0,f.jsx)(oI,{onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:v,zoomOnPinch:x,panOnScroll:F,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:!L&&B,defaultViewport:C,translateExtent:R,minZoom:N,maxZoom:A,zoomActivationKeyCode:y,preventScrolling:M,noWheelClassName:j,noPanClassName:O,onViewportChange:$,isControlledViewport:T,paneClickDistance:s,children:(0,f.jsxs)(oL,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:B,isSelecting:!!W,selectionMode:d,selectionKeyPressed:L,selectionOnDrag:U,children:[e,D&&(0,f.jsx)(oJ,{onSelectionContextMenu:P,noPanClassName:O,disableKeyboardA11y:I})]})})}o2.displayName="FlowRenderer";let o5=(0,g.memo)(o2),o3=e=>t=>e?nH(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),o4=e=>e.updateNodeInternals;function o6({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:b,nodeExtent:v,nodeClickDistance:x,onError:w}){let{node:_,internals:E,isParent:S}=rJ(t=>{let n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},rY),k=_.type||"default",C=b?.[k]||oG[k];void 0===C&&(w?.("003",nN.error003(k)),k="default",C=oG.default);let R=!!(_.draggable||s&&void 0===_.draggable),N=!!(_.selectable||l&&void 0===_.selectable),A=!!(_.connectable||u&&void 0===_.connectable),M=!!(_.focusable||c&&void 0===_.focusable),P=r0(),j=rr(_),O=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){r0();let o=(0,g.useRef)(null);return(0,g.useRef)(null),(0,g.useRef)(e.sourcePosition),(0,g.useRef)(e.targetPosition),(0,g.useRef)(t),n&&e.internals.handleBounds,o}({node:_,nodeType:k,hasDimensions:j,resizeObserver:d}),I=oB({nodeRef:O,disabled:_.hidden||!R,noDragClassName:h,handleSelector:_.dragHandle,nodeId:e,isSelectable:N,nodeClickDistance:x}),$=oU();if(_.hidden)return null;let T=rn(_),D=void 0===_.internals.handleBounds?{width:_.width??_.initialWidth??_.style?.width,height:_.height??_.initialHeight??_.style?.height}:{width:_.width??_.style?.width,height:_.height??_.style?.height},z=N||R||t||n||r||o,L=n?e=>n(e,{...E.userNode}):void 0,H=r?e=>r(e,{...E.userNode}):void 0,B=o?e=>o(e,{...E.userNode}):void 0,F=i?e=>i(e,{...E.userNode}):void 0,U=a?e=>a(e,{...E.userNode}):void 0;return(0,f.jsx)("div",{className:rF(["react-flow__node",`react-flow__node-${k}`,{[p]:R},_.className,{selected:_.selected,selectable:N,parent:S,draggable:R,dragging:I}]),ref:O,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:j?"visible":"hidden",..._.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:H,onMouseLeave:B,onContextMenu:F,onClick:n=>{let{selectNodesOnDrag:r,nodeDragThreshold:o}=P.getState();N&&(!r||!R||o>0)&&oH({id:e,store:P,nodeRef:O}),t&&t(n,{...E.userNode})},onDoubleClick:U,onKeyDown:M?t=>{!function(e){let t=e.composedPath?.()?.[0]||e.target;return ra.includes(t?.nodeName)||t?.hasAttribute?.("contenteditable")||!!t?.closest(".nokey")}(t.nativeEvent)&&!m&&(nM.includes(t.key)&&N?oH({id:e,store:P,unselect:"Escape"===t.key,nodeRef:O}):R&&_.selected&&Object.prototype.hasOwnProperty.call(oZ,t.key)&&(t.preventDefault(),P.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E.positionAbsolute.x}, y: ${~~E.positionAbsolute.y}`}),$({direction:oZ[t.key],factor:t.shiftKey?4:1})))}:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":m?void 0:`${r5}-${y}`,"aria-label":_.ariaLabel,children:(0,f.jsx)(oV,{value:e,children:(0,f.jsx)(C,{id:e,data:_.data,type:k,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:_.selected,selectable:N,draggable:R,deletable:_.deletable??!0,isConnectable:A,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:I,dragHandle:_.dragHandle,zIndex:E.z,parentId:_.parentId,...T})})})}let o8=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function o7(e){var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,onError:a}=rJ(o8,rY),s=(t=e.onlyRenderVisibleElements,rJ((0,g.useCallback)(o3(t),[t]),rY)),l=function(){let e=rJ(o4),[t]=(0,g.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return t}();return(0,f.jsx)("div",{className:"react-flow__nodes",style:oj,children:s.map(t=>(0,f.jsx)(o6,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},t))})}o7.displayName="NodeRenderer";let o9=(0,g.memo)(o7),ie={[l.Arrow]:({color:e="none",strokeWidth:t=1})=>(0,f.jsx)("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[l.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>(0,f.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},it=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{let l=function(e){let t=r0();return(0,g.useMemo)(()=>Object.prototype.hasOwnProperty.call(ie,e)?ie[e]:(t.getState().onError?.("009",nN.error009(e)),null),[e])}(t);return l?(0,f.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:(0,f.jsx)(l,{color:n,strokeWidth:a})}):null},ir=({defaultColor:e,rfId:t})=>{let n=rJ(e=>e.edges),r=rJ(e=>e.defaultEdgeOptions),o=(0,g.useMemo)(()=>(function(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){let i=new Set;return e.reduce((e,a)=>([a.markerStart||r,a.markerEnd||o].forEach(r=>{if(r&&"object"==typeof r){let o=rR(r,t);i.has(o)||(e.push({id:o,color:r.color||n,...r}),i.add(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))})(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return o.length?(0,f.jsx)("svg",{className:"react-flow__marker",children:(0,f.jsx)("defs",{children:o.map(e=>(0,f.jsx)(it,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};ir.displayName="MarkerDefinitions";var io=(0,g.memo)(ir);function ii({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){let[d,h]=(0,g.useState)({x:1,y:0,width:0,height:0}),p=rF(["react-flow__edge-textwrapper",u]),m=(0,g.useRef)(null);return void 0!==n&&n?(0,f.jsxs)("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[o&&(0,f.jsx)("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),(0,f.jsx)("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}ii.displayName="EdgeText";let ia=(0,g.memo)(ii);function is({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{...c,d:e,fill:"none",className:rF(["react-flow__edge-path",c.className])}),u&&(0,f.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&n3(t)&&n3(n)?(0,f.jsx)(ia,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function il({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===u.Left||e===u.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function iu({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top}){let[a,s]=il({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=il({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,f,h,p]=rc({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${r},${o}`,d,f,h,p]}function ic(e){return(0,g.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=u.Bottom,targetPosition:s=u.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:b,interactionWidth:v})=>{let[x,w,_]=iu({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),E=e.isInternal?void 0:t;return(0,f.jsx)(is,{id:E,path:x,labelX:w,labelY:_,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:b,interactionWidth:v})})}let id=ic({isInternal:!1}),ih=ic({isInternal:!0});function ip(e){return(0,g.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,sourcePosition:g=u.Bottom,targetPosition:m=u.Top,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:x})=>{let[w,_,E]=r_({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:i,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset}),S=e.isInternal?void 0:t;return(0,f.jsx)(is,{id:S,path:w,labelX:_,labelY:E,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:b,interactionWidth:x})})}id.displayName="SimpleBezierEdge",ih.displayName="SimpleBezierEdgeInternal";let ig=ip({isInternal:!1}),im=ip({isInternal:!0});function iy(e){return(0,g.memo)(({id:t,...n})=>{let r=e.isInternal?void 0:t;return(0,f.jsx)(ig,{...n,id:r,pathOptions:(0,g.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}ig.displayName="SmoothStepEdge",im.displayName="SmoothStepEdgeInternal";let ib=iy({isInternal:!1}),iv=iy({isInternal:!0});function ix(e){return(0,g.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:g,interactionWidth:m})=>{let[y,b,v]=rb({sourceX:n,sourceY:r,targetX:o,targetY:i}),x=e.isInternal?void 0:t;return(0,f.jsx)(is,{id:x,path:y,labelX:b,labelY:v,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:g,interactionWidth:m})})}ib.displayName="StepEdge",iv.displayName="StepEdgeInternal";let iw=ix({isInternal:!1}),i_=ix({isInternal:!0});function iE(e){return(0,g.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=u.Bottom,targetPosition:s=u.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:x})=>{let[w,_,E]=rh({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:v?.curvature}),S=e.isInternal?void 0:t;return(0,f.jsx)(is,{id:S,path:w,labelX:_,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:b,interactionWidth:x})})}iw.displayName="StraightEdge",i_.displayName="StraightEdgeInternal";let iS=iE({isInternal:!1}),ik=iE({isInternal:!0});iS.displayName="BezierEdge",ik.displayName="BezierEdgeInternal";let iC={default:ik,straight:i_,step:iv,smoothstep:im,simplebezier:ih},iR={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},iN=(e,t,n)=>n===u.Left?e-t:n===u.Right?e+t:e,iA=(e,t,n)=>n===u.Top?e-t:n===u.Bottom?e+t:e,iM="react-flow__edgeupdater";function iP({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s}){return(0,f.jsx)("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:rF([iM,`${iM}-${s}`]),cx:iN(t,r,e),cy:iA(n,r,e),r:r,stroke:"transparent",fill:"transparent"})}function ij({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:h,setUpdateHover:p}){let g=r0(),m=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:r,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:s,lib:l,onConnectStart:f,onConnectEnd:p,cancelConnection:m,nodeLookup:y,rfId:b,panBy:v,updateConnection:x}=g.getState(),w="target"===t.type;h(!0),c?.(e,n,t.type),rB.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:a,connectionRadius:s,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:y,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:b,cancelConnection:m,panBy:v,isValidConnection:i,onConnect:e=>u?.(n,e),onConnectStart:f,onConnectEnd:p,onReconnectEnd:(e,r)=>{h(!1),d?.(e,n,t.type,r)},updateConnection:x,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},y=()=>p(!0),b=()=>p(!1);return(0,f.jsxs)(f.Fragment,{children:[(!0===e||"source"===e)&&(0,f.jsx)(iP,{position:s,centerX:r,centerY:o,radius:t,onMouseDown:e=>m(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:y,onMouseOut:b,type:"source"}),(!0===e||"target"===e)&&(0,f.jsx)(iP,{position:l,centerX:i,centerY:a,radius:t,onMouseDown:e=>m(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:y,onMouseOut:b,type:"target"})]})}function iO({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,rfId:b,edgeTypes:v,noPanClassName:x,onError:w,disableKeyboardA11y:_}){let E=rJ(t=>t.edgeLookup.get(e)),S=rJ(e=>e.defaultEdgeOptions),k=(E=S?{...S,...E}:E).type||"default",C=v?.[k]||iC[k];void 0===C&&(w?.("011",nN.error011(k)),k="default",C=iC.default);let R=!!(E.focusable||t&&void 0===E.focusable),N=void 0!==p&&(E.reconnectable||n&&void 0===E.reconnectable),A=!!(E.selectable||r&&void 0===E.selectable),M=(0,g.useRef)(null),[P,j]=(0,g.useState)(!1),[O,I]=(0,g.useState)(!1),$=r0(),{zIndex:T,sourceX:D,sourceY:z,targetX:L,targetY:H,sourcePosition:B,targetPosition:F}=rJ((0,g.useCallback)(t=>{let n=t.nodeLookup.get(E.source),r=t.nodeLookup.get(E.target);if(!n||!r)return{zIndex:E.zIndex,...iR};let i=function(e){let{sourceNode:t,targetNode:n}=e;if(!rE(t)||!rE(n))return null;let r=t.internals.handleBounds||rS(t.handles),i=n.internals.handleBounds||rS(n.handles),a=rC(r?.source??[],e.sourceHandle),s=rC(e.connectionMode===o.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!a||!s)return e.onError?.("008",nN.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let l=a?.position||u.Bottom,c=s?.position||u.Top,d=rk(t,a,l),f=rk(n,s,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}({id:e,sourceNode:n,targetNode:r,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:t.connectionMode,onError:w});return{zIndex:function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;let i=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?a:0)}({selected:E.selected,zIndex:E.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...i||iR}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),rY),U=(0,g.useMemo)(()=>E.markerStart?`url('#${rR(E.markerStart,b)}')`:void 0,[E.markerStart,b]),W=(0,g.useMemo)(()=>E.markerEnd?`url('#${rR(E.markerEnd,b)}')`:void 0,[E.markerEnd,b]);if(E.hidden||null===D||null===z||null===L||null===H)return null;let V=a?e=>{a(e,{...E})}:void 0,q=s?e=>{s(e,{...E})}:void 0,X=l?e=>{l(e,{...E})}:void 0,K=c?e=>{c(e,{...E})}:void 0,Y=d?e=>{d(e,{...E})}:void 0;return(0,f.jsx)("svg",{style:{zIndex:T},children:(0,f.jsxs)("g",{className:rF(["react-flow__edge",`react-flow__edge-${k}`,E.className,x,{selected:E.selected,animated:E.animated,inactive:!A&&!i,updating:P,selectable:A}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=$.getState();A&&($.setState({nodesSelectionActive:!1}),E.selected&&o?(r({nodes:[],edges:[E]}),M.current?.blur()):n([e])),i&&i(t,E)},onDoubleClick:V,onContextMenu:q,onMouseEnter:X,onMouseMove:K,onMouseLeave:Y,onKeyDown:R?t=>{if(!_&&nM.includes(t.key)&&A){let{unselectNodesAndEdges:n,addSelectedEdges:r}=$.getState();"Escape"===t.key?(M.current?.blur(),n({edges:[E]})):r([e])}}:void 0,tabIndex:R?0:void 0,role:R?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===E.ariaLabel?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":R?`${r3}-${b}`:void 0,ref:M,children:[!O&&(0,f.jsx)(C,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:A,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:D,sourceY:z,targetX:L,targetY:H,sourcePosition:B,targetPosition:F,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:U,markerEnd:W,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),N&&(0,f.jsx)(ij,{edge:E,isReconnectable:N,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,sourceX:D,sourceY:z,targetX:L,targetY:H,sourcePosition:B,targetPosition:F,setUpdateHover:j,setReconnecting:I})]})})}let iI=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function i$({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){let{edgesFocusable:b,edgesReconnectable:v,elementsSelectable:x,onError:w}=rJ(iI,rY),_=rJ((0,g.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let r=e.nodeLookup.get(t.source),o=e.nodeLookup.get(t.target);r&&o&&function({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){let i=nZ(n0(e),n0(t));return i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1),n2({x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]},nQ(i))>0}({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),rY);return(0,f.jsxs)("div",{className:"react-flow__edges",children:[(0,f.jsx)(io,{defaultColor:e,rfId:n}),_.map(e=>(0,f.jsx)(iO,{id:e,edgesFocusable:b,edgesReconnectable:v,elementsSelectable:x,noPanClassName:o,onReconnect:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:y},e))]})}i$.displayName="EdgeRenderer";let iT=(0,g.memo)(i$),iD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function iz({children:e}){let t=rJ(iD);return(0,f.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let iL=e=>e.panZoom?.syncViewport;function iH(e){return e.connection.inProgress?{...e.connection,to:n8(e.connection.to,e.transform)}:{...e.connection}}let iB=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function iF({containerStyle:e,style:t,type:n,component:r}){let{nodesConnectable:o,width:i,height:a,isValid:s,inProgress:l}=rJ(iB,rY);return i&&o&&l?(0,f.jsx)("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:(0,f.jsx)("g",{className:rF(["react-flow__connection",nO(s)]),children:(0,f.jsx)(iU,{style:t,type:n,CustomComponent:r,isValid:s})})}):null}let iU=({style:e,type:t=s.Bezier,CustomComponent:n,isValid:r})=>{var o;let{inProgress:i,from:a,fromNode:l,fromHandle:u,fromPosition:c,to:d,toNode:h,toHandle:p,toPosition:g}=rJ(iH,rY);if(!i)return;if(n)return(0,f.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:a.x,fromY:a.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:g,connectionStatus:nO(r),toNode:h,toHandle:p});let m="",y={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:g};switch(t){case s.Bezier:[m]=rh(y);break;case s.SimpleBezier:[m]=iu(y);break;case s.Step:[m]=r_({...y,borderRadius:0});break;case s.SmoothStep:[m]=r_(y);break;default:[m]=rb(y)}return(0,f.jsx)("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};iU.displayName="ConnectionLine";let iW={};function iV(e=iW){(0,g.useRef)(e),r0()}function iq({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:v,selectionKeyCode:x,selectionOnDrag:w,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:k,deleteKeyCode:C,onlyRenderVisibleElements:R,elementsSelectable:N,defaultViewport:A,translateExtent:M,minZoom:P,maxZoom:j,preventScrolling:O,defaultMarkerColor:I,zoomOnScroll:$,zoomOnPinch:T,panOnScroll:D,panOnScrollSpeed:z,panOnScrollMode:L,zoomOnDoubleClick:H,panOnDrag:B,onPaneClick:F,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:V,onPaneScroll:q,onPaneContextMenu:X,paneClickDistance:K,nodeClickDistance:Y,onEdgeContextMenu:Z,onEdgeMouseEnter:G,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,noDragClassName:eo,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:es,nodeExtent:el,rfId:eu,viewport:ec,onViewportChange:ed}){return iV(e),iV(t),r0(),(0,g.useRef)(!1),oA(),(0,g.useRef)(!1),rJ(iL),r0(),(0,f.jsx)(o5,{onPaneClick:F,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:V,onPaneContextMenu:X,onPaneScroll:q,paneClickDistance:K,deleteKeyCode:C,selectionKeyCode:x,selectionOnDrag:w,selectionMode:_,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:k,elementsSelectable:N,zoomOnScroll:$,zoomOnPinch:T,zoomOnDoubleClick:H,panOnScroll:D,panOnScrollSpeed:z,panOnScrollMode:L,panOnDrag:B,defaultViewport:A,translateExtent:M,minZoom:P,maxZoom:j,onSelectionContextMenu:d,preventScrolling:O,noDragClassName:eo,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:es,onViewportChange:ed,isControlledViewport:!!ec,children:(0,f.jsxs)(iz,{children:[(0,f.jsx)(iT,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:a,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,onlyRenderVisibleElements:R,onEdgeContextMenu:Z,onEdgeMouseEnter:G,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:I,noPanClassName:ea,disableKeyboardA11y:es,rfId:eu}),(0,f.jsx)(iF,{style:y,type:m,component:b,containerStyle:v}),(0,f.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,f.jsx)(o9,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:Y,onlyRenderVisibleElements:R,noPanClassName:ea,noDragClassName:eo,disableKeyboardA11y:es,nodeExtent:el,rfId:eu}),(0,f.jsx)("div",{className:"react-flow__viewport-portal"})]})})}iq.displayName="GraphView";let iX=(0,g.memo)(iq),iK=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:u}={})=>{let c=new Map,d=new Map,f=new Map,h=new Map,p=r??t??[],g=n??e??[],m=l??[0,0],y=u??nA;rT(f,h,p),rP(g,c,d,{nodeOrigin:m,nodeExtent:y,elevateNodesOnSelect:!1});let b=[0,0,1];if(s&&i&&a){let{x:e,y:t,zoom:n}=n9(nL(c,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),i,a,.5,2,.1);b=[e,t,n]}return{rfId:"1",width:0,height:0,transform:b,nodes:g,nodeLookup:c,parentLookup:d,edges:p,edgeLookup:h,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:nA,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:o.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...nP},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:n4,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},iY=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:s,nodeExtent:l})=>rK((u,c)=>({...iK({nodes:e,edges:t,width:o,height:i,fitView:a,nodeOrigin:s,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o}=c();rP(e,t,n,{nodeOrigin:r,nodeExtent:l,elevateNodesOnSelect:o,checkEquality:!0}),u({nodes:e})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=c();rT(t,n,e),u({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=c();t(e),u({hasDefaultNodes:!0})}if(t){let{setEdges:e}=c();e(t),u({hasDefaultEdges:!0})}},updateNodeInternals:(e,t={triggerFitView:!0})=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,fitViewOnInit:i,fitViewDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:d,nodeExtent:f,debug:h,fitViewSync:p}=c(),{changes:g,updatedInternals:m}=function(e,t,n,r,o,i){let a=r?.querySelector(".xyflow__viewport"),s=!1;if(!a)return{changes:[],updatedInternals:s};let l=[],u=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(let r of e.values()){let e=t.get(r.id);if(e){if(e.hidden)e.internals={...e.internals,handleBounds:void 0},s=!0;else{let a=ro(r.nodeElement),u=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(u||!e.internals.handleBounds||r.force)){let f=r.nodeElement.getBoundingClientRect(),h=rt(e.extent)?e.extent:i,{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=nX(p,a,t.get(e.parentId)):h&&(p=nq(p,h,a)),e.measured=a,e.internals={...e.internals,positionAbsolute:p,handleBounds:{source:ru("source",r.nodeElement,f,c,e.id),target:ru("target",r.nodeElement,f,c,e.id)}},e.parentId&&rj(e,t,n,{nodeOrigin:o}),s=!0,u&&(l.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:nJ(e,o)}))}}}}if(d.length>0){let e=rI(d,t,n,o);l.push(...e)}return{changes:l,updatedInternals:s}}(e,r,o,l,d,f);if(m){if(function(e,t,n){let r=rM(rN,n);for(let n of e.values())if(n.parentId)rj(n,e,t,r);else{let e=nq(nD(n,r.nodeOrigin),rt(n.extent)?n.extent:r.nodeExtent,rn(n));n.internals.positionAbsolute=e}}(r,o,{nodeOrigin:d,nodeExtent:f}),t.triggerFitView){let e=a;!a&&i&&(e=p({...s,nodes:s?.nodes})),u({fitViewDone:e})}else u({});g?.length>0&&(h&&console.log("React Flow: trigger node changes",g),n?.(g))}},updateNodePositions:(e,t=!1)=>{let n=[],r=[];for(let[o,i]of e){let e=!!(i?.expandParent&&i?.parentId&&i?.position),a={id:o,type:"position",position:e?{x:Math.max(0,i.position.x),y:Math.max(0,i.position.y)}:i.position,dragging:t};e&&n.push({id:o,parentId:i.parentId,rect:{...i.internals.positionAbsolute,width:i.measured.width,height:i.measured.height}}),r.push(a)}if(n.length>0){let{nodeLookup:e,parentLookup:t,nodeOrigin:o}=c(),i=rI(n,e,t,o);r.push(...i)}c().triggerNodeChanges(r)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=c();e?.length&&(o&&n(om(e,r)),i&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=c();e?.length&&(o&&n(om(e,r)),i&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=c();if(t){o(e.map(e=>oy(e,!0)));return}o(ob(r,new Set([...e]),!0)),i(ob(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=c();if(t){i(e.map(e=>oy(e,!0)));return}i(ob(n,new Set([...e]))),o(ob(r,new Set,!0))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=c(),s=(e||r).map(e=>{let t=o.get(e.id);return t&&(t.selected=!1),oy(e.id,!1)}),l=(t||n).map(e=>oy(e.id,!1));i(s),a(l)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=c();t?.setScaleExtent([e,n]),u({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=c();t?.setScaleExtent([n,e]),u({maxZoom:e})},setTranslateExtent:e=>{c().panZoom?.setTranslateExtent(e),u({translateExtent:e})},setPaneClickDistance:e=>{c().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r}=c(),o=t.reduce((e,t)=>t.selected?[...e,oy(t.id,!1)]:e,[]),i=e.reduce((e,t)=>t.selected?[...e,oy(t.id,!1)]:e,[]);n(o),r(i)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,nodeExtent:a}=c();(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])&&(rP(t,n,r,{nodeOrigin:o,nodeExtent:e,elevateNodesOnSelect:i,checkEquality:!1}),u({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=c();return r$({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},fitView:e=>{let{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=c();return t?nU({nodes:nF(a,e),width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e):Promise.resolve(!1)},fitViewSync:e=>{let{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=c();if(!t)return!1;let s=nF(a,e);return nU({nodes:s,width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e),s.size>0},cancelConnection:()=>{u({connection:{...nP}})},updateConnection:e=>{u({connection:e})},reset:()=>u({...iK()})}),Object.is);function iZ({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,fitView:a,nodeOrigin:s,nodeExtent:l,children:u}){let[c]=(0,g.useState)(()=>iY({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:s,nodeExtent:l}));return(0,f.jsx)(rG,{value:c,children:(0,f.jsx)(oR,{children:u})})}function iG({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:u}){return(0,g.useContext)(rZ)?(0,f.jsx)(f.Fragment,{children:e}):(0,f.jsx)(iZ,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,fitView:s,nodeOrigin:l,nodeExtent:u,children:e})}let iQ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var iJ=oE(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:l,edgeTypes:u,onNodeClick:c,onEdgeClick:d,onInit:h,onMove:p,onMoveStart:m,onMoveEnd:y,onConnect:b,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:R,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:M,onNodesDelete:P,onEdgesDelete:j,onDelete:O,onSelectionChange:I,onSelectionDragStart:$,onSelectionDrag:T,onSelectionDragStop:D,onSelectionContextMenu:z,onSelectionStart:L,onSelectionEnd:H,onBeforeDelete:B,connectionMode:F,connectionLineType:U=s.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:q,deleteKeyCode:X="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Y=!1,selectionMode:Z=a.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:Q=re()?"Meta":"Control",zoomActivationKeyCode:J=re()?"Meta":"Control",snapToGrid:ee,snapGrid:et,onlyRenderVisibleElements:en=!1,selectNodesOnDrag:er,nodesDraggable:eo,nodesConnectable:ei,nodesFocusable:ea,nodeOrigin:es=os,edgesFocusable:el,edgesReconnectable:eu,elementsSelectable:ec=!0,defaultViewport:ed=ol,minZoom:ef=.5,maxZoom:eh=2,translateExtent:ep=nA,preventScrolling:eg=!0,nodeExtent:em,defaultMarkerColor:ey="#b1b1b7",zoomOnScroll:eb=!0,zoomOnPinch:ev=!0,panOnScroll:ex=!1,panOnScrollSpeed:ew=.5,panOnScrollMode:e_=i.Free,zoomOnDoubleClick:eE=!0,panOnDrag:eS=!0,onPaneClick:ek,onPaneMouseEnter:eC,onPaneMouseMove:eR,onPaneMouseLeave:eN,onPaneScroll:eA,onPaneContextMenu:eM,paneClickDistance:eP=0,nodeClickDistance:ej=0,children:eO,onReconnect:eI,onReconnectStart:e$,onReconnectEnd:eT,onEdgeContextMenu:eD,onEdgeDoubleClick:ez,onEdgeMouseEnter:eL,onEdgeMouseMove:eH,onEdgeMouseLeave:eB,reconnectRadius:eF=10,onNodesChange:eU,onEdgesChange:eW,noDragClassName:eV="nodrag",noWheelClassName:eq="nowheel",noPanClassName:eX="nopan",fitView:eK,fitViewOptions:eY,connectOnClick:eZ,attributionPosition:eG,proOptions:eQ,defaultEdgeOptions:eJ,elevateNodesOnSelect:e0,elevateEdgesOnSelect:e1,disableKeyboardA11y:e2=!1,autoPanOnConnect:e5,autoPanOnNodeDrag:e3,autoPanSpeed:e4,connectionRadius:e6,isValidConnection:e8,onError:e7,style:e9,id:te,nodeDragThreshold:tt,viewport:tn,onViewportChange:tr,width:to,height:ti,colorMode:ta="light",debug:ts,...tl},tu){let tc=te||"1",td=function(e){let[t,n]=(0,g.useState)("system"===e?null:e);return null!==t?t:"light"}(ta);return(0,f.jsx)("div",{"data-testid":"rf__wrapper",...tl,style:{...e9,...iQ},ref:tu,className:rF(["react-flow",o,td]),id:te,children:(0,f.jsxs)(iG,{nodes:e,edges:t,width:to,height:ti,fitView:eK,nodeOrigin:es,nodeExtent:em,children:[(0,f.jsx)(iX,{onInit:h,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:R,nodeTypes:l,edgeTypes:u,connectionLineType:U,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:q,selectionKeyCode:K,selectionOnDrag:Y,selectionMode:Z,deleteKeyCode:X,multiSelectionKeyCode:Q,panActivationKeyCode:G,zoomActivationKeyCode:J,onlyRenderVisibleElements:en,defaultViewport:ed,translateExtent:ep,minZoom:ef,maxZoom:eh,preventScrolling:eg,zoomOnScroll:eb,zoomOnPinch:ev,zoomOnDoubleClick:eE,panOnScroll:ex,panOnScrollSpeed:ew,panOnScrollMode:e_,panOnDrag:eS,onPaneClick:ek,onPaneMouseEnter:eC,onPaneMouseMove:eR,onPaneMouseLeave:eN,onPaneScroll:eA,onPaneContextMenu:eM,paneClickDistance:eP,nodeClickDistance:ej,onSelectionContextMenu:z,onSelectionStart:L,onSelectionEnd:H,onReconnect:eI,onReconnectStart:e$,onReconnectEnd:eT,onEdgeContextMenu:eD,onEdgeDoubleClick:ez,onEdgeMouseEnter:eL,onEdgeMouseMove:eH,onEdgeMouseLeave:eB,reconnectRadius:eF,defaultMarkerColor:ey,noDragClassName:eV,noWheelClassName:eq,noPanClassName:eX,rfId:tc,disableKeyboardA11y:e2,nodeExtent:em,viewport:tn,onViewportChange:tr}),(0,f.jsx)(of,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:eo,nodesConnectable:ei,nodesFocusable:ea,edgesFocusable:el,edgesReconnectable:eu,elementsSelectable:ec,elevateNodesOnSelect:e0,elevateEdgesOnSelect:e1,minZoom:ef,maxZoom:eh,nodeExtent:em,onNodesChange:eU,onEdgesChange:eW,snapToGrid:ee,snapGrid:et,connectionMode:F,translateExtent:ep,connectOnClick:eZ,defaultEdgeOptions:eJ,fitView:eK,fitViewOptions:eY,onNodesDelete:P,onEdgesDelete:j,onDelete:O,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:M,onSelectionDrag:T,onSelectionDragStart:$,onSelectionDragStop:D,onMove:p,onMoveStart:m,onMoveEnd:y,noPanClassName:eX,nodeOrigin:es,rfId:tc,autoPanOnConnect:e5,autoPanOnNodeDrag:e3,autoPanSpeed:e4,onError:e7,connectionRadius:e6,isValidConnection:e8,selectNodesOnDrag:er,nodeDragThreshold:tt,onBeforeDelete:B,paneClickDistance:eP,debug:ts}),(0,f.jsx)(oa,{onSelectionChange:I}),eO,(0,f.jsx)(oe,{proOptions:eQ,position:eG}),(0,f.jsx)(r8,{rfId:tc,disableKeyboardA11y:e2})]})})});function i0({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,f.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:rF(["react-flow__background-pattern",n,r])})}function i1({radius:e,className:t}){return(0,f.jsx)("circle",{cx:e,cy:e,r:e,className:rF(["react-flow__background-pattern","dots",t])})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(d||(d={}));let i2={[d.Dots]:1,[d.Lines]:1,[d.Cross]:6},i5=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function i3({id:e,variant:t=d.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){let h=(0,g.useRef)(null),{transform:p,patternId:m}=rJ(i5,rY),y=r||i2[t],b=t===d.Dots,v=t===d.Cross,x=Array.isArray(n)?n:[n,n],w=[x[0]*p[2]||1,x[1]*p[2]||1],_=y*p[2],E=Array.isArray(i)?i:[i,i],S=v?[_,_]:w,k=[E[0]*p[2]||1+S[0]/2,E[1]*p[2]||1+S[1]/2],C=`${m}${e||""}`;return(0,f.jsxs)("svg",{className:rF(["react-flow__background",u]),style:{...l,...oj,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:h,"data-testid":"rf__background",children:[(0,f.jsx)("pattern",{id:C,x:p[0]%w[0],y:p[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:b?(0,f.jsx)(i1,{radius:_/2,className:c}):(0,f.jsx)(i0,{dimensions:S,lineWidth:o,variant:t,className:c})}),(0,f.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}i3.displayName="Background";let i4=(0,g.memo)(i3);function i6(){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,f.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function i8(){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,f.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function i7(){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,f.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function i9(){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,f.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ae(){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,f.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function at({children:e,className:t,...n}){return(0,f.jsx)("button",{type:"button",className:rF(["react-flow__controls-button",t]),...n,children:e})}let an=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function ar({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:h="vertical","aria-label":p="React Flow controls"}){let g=r0(),{isInteractive:m,minZoomReached:y,maxZoomReached:b}=rJ(an,rY),{zoomIn:v,zoomOut:x,fitView:w}=oA();return(0,f.jsxs)(r9,{className:rF(["react-flow__controls","horizontal"===h?"horizontal":"vertical",u]),position:d,style:e,"data-testid":"rf__controls","aria-label":p,children:[t&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(at,{onClick:()=>{v(),i?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b,children:(0,f.jsx)(i6,{})}),(0,f.jsx)(at,{onClick:()=>{x(),a?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:(0,f.jsx)(i8,{})})]}),n&&(0,f.jsx)(at,{className:"react-flow__controls-fitview",onClick:()=>{w(o),s?.()},title:"fit view","aria-label":"fit view",children:(0,f.jsx)(i7,{})}),r&&(0,f.jsx)(at,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l?.(!m)},title:"toggle interactivity","aria-label":"toggle interactivity",children:m?(0,f.jsx)(ae,{}):(0,f.jsx)(i9,{})}),c]})}ar.displayName="Controls";let ao=(0,g.memo)(ar);n(1763);let ai={custom:function({data:e,width:t=240,height:n=100}){return(0,f.jsxs)("div",{className:`px-4 py-3 rounded-md shadow-md border ${e.color||"bg-white"}`,style:{width:`${t}px`,height:`${n}px`,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,f.jsx)(oY,{type:"source",position:u.Top,id:"top-source",className:"w-2 h-2 !bg-gray-500",style:{left:"25%"}}),(0,f.jsx)(oY,{type:"target",position:u.Top,id:"top-target",className:"w-2 h-2 !bg-gray-500",style:{left:"75%"}}),(0,f.jsx)(oY,{type:"source",position:u.Left,id:"left-source",className:"w-2 h-2 !bg-gray-500",style:{top:"25%"}}),(0,f.jsx)(oY,{type:"target",position:u.Left,id:"left-target",className:"w-2 h-2 !bg-gray-500",style:{top:"75%"}}),(0,f.jsxs)("div",{className:`text-center flex-1 flex flex-col justify-center ${e.textColor||"text-gray-800"}`,children:[(0,f.jsx)("div",{className:"font-medium",children:e.label}),e.description&&(0,f.jsx)("div",{className:"text-sm opacity-75 mt-1",children:e.description}),e.value&&(0,f.jsx)("div",{className:"mt-2 text-lg font-bold",children:e.value})]}),(0,f.jsx)(oY,{type:"source",position:u.Right,id:"right-source",className:"w-2 h-2 !bg-gray-500",style:{top:"25%"}}),(0,f.jsx)(oY,{type:"target",position:u.Right,id:"right-target",className:"w-2 h-2 !bg-gray-500",style:{top:"75%"}}),(0,f.jsx)(oY,{type:"source",position:u.Bottom,id:"bottom-source",className:"w-2 h-2 !bg-gray-500",style:{left:"25%"}}),(0,f.jsx)(oY,{type:"target",position:u.Bottom,id:"bottom-target",className:"w-2 h-2 !bg-gray-500",style:{left:"75%"}})]})}},aa={custom:function({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:a,style:s={},markerEnd:l,label:u,labelStyle:c,labelBgStyle:d}){let[h,p,g]=rh({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:a});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(is,{id:e,path:h,markerEnd:l,style:s,labelStyle:c,labelBgStyle:d}),u&&(0,f.jsxs)("text",{x:p,y:g,className:"fill-gray-700 text-[12px] font-medium",textAnchor:"middle",dominantBaseline:"middle",style:{...c,fontSize:"12px"},children:[(0,f.jsx)("tspan",{x:p,dy:"-0.5em",children:u}),(0,f.jsx)("rect",{x:p-40,y:g-10,width:"80",height:"20",className:"fill-white opacity-75",style:d})]})]})}};function as({data:e}){let t=(0,g.useCallback)(t=>{let n=e.rows.find(e=>String(e.metric_name).toLowerCase()===t.toLowerCase());return n?.metric_value||0},[e]),n=(0,g.useMemo)(()=>[{id:"reactivated",type:"custom",position:{x:50,y:20},width:200,height:120,data:{label:"重新激活用户",description:"(首次回访)",value:t("reactivated_user"),color:"bg-green-100"}},{id:"new",type:"custom",position:{x:400,y:20},width:200,height:120,data:{label:"新用户",description:"(首次使用应用)",value:t("new_user"),color:"bg-green-100"}},{id:"resurrected",type:"custom",position:{x:750,y:20},width:200,height:120,data:{label:"复活用户",description:"(首日回访)",value:t("resurrected_user"),color:"bg-green-100"}},{id:"current",type:"custom",position:{x:420,y:210},width:280,height:140,data:{label:"当前用户",description:"(今日活跃且过去7天内至少活跃1次)",value:t("current_user"),color:"bg-blue-100"}},{id:"at-risk-wau",type:"custom",position:{x:100,y:400},width:280,height:100,data:{label:"周活跃用户流失风险",description:"(今日不活跃，但过去1-6天活跃)",value:t("at_risk_waus"),color:"bg-orange-100"}},{id:"at-risk-mau",type:"custom",position:{x:100,y:580},width:450,height:100,data:{label:"月活跃用户流失风险",description:"(今日不活跃，过去1-6天不活跃，但过去7-29天活跃)",value:t("at_risk_maus"),color:"bg-pink-100"}},{id:"dead",type:"custom",position:{x:100,y:750},width:600,height:100,data:{label:"流失用户",description:"(今日及过去29天不活跃)",value:t("dead_users"),color:"bg-red-100"}}],[t]),r=(0,g.useMemo)(()=>{let e=Number(t("RURR")),n=Number(t("SURR")),r=Number(t("CURR")),o=Number(t("NURR")),i=Number(t("iMAURR"));return[{id:"e1-rurr",source:"reactivated",target:"current",animated:!0,type:"smoothstep",label:`RURR: ${e.toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#60a5fa",strokeWidth:3},sourceHandle:"right-source",targetHandle:"left-target",labelStyle:{fontSize:14}},{id:"e1-1rurr",source:"reactivated",target:"at-risk-wau",animated:!0,type:"smoothstep",label:`1-RURR: ${(100-e).toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#f97316",strokeWidth:3},sourceHandle:"right-source",targetHandle:"left-target",labelStyle:{fontSize:14}},{id:"e2-nurr",source:"new",target:"current",animated:!0,type:"smoothstep",label:`NURR: ${o.toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#60a5fa",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e2-1nurr",source:"new",target:"at-risk-wau",animated:!0,type:"smoothstep",label:`1-NURR: ${(100-o).toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#f97316",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e3-surr",source:"resurrected",target:"current",animated:!0,type:"smoothstep",label:`SURR: ${n.toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#60a5fa",strokeWidth:3},sourceHandle:"left-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e3-1surr",source:"resurrected",target:"at-risk-wau",animated:!0,type:"smoothstep",label:`1-SURR: ${(100-n).toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#f97316",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"right-target",labelStyle:{fontSize:14}},{id:"e4-curr",source:"current",target:"current",animated:!0,type:"smoothstep",label:`CURR:
${r.toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#60a5fa",strokeWidth:3},sourceHandle:"right-source",targetHandle:"bottom-target",labelStyle:{fontSize:14}},{id:"e4-1curr",source:"current",target:"at-risk-wau",animated:!0,type:"smoothstep",label:`1-CURR: ${(100-r).toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#f97316",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e5-iwaurr",source:"at-risk-wau",target:"current",animated:!0,type:"smoothstep",label:`iWAURR: ${t("iWAURR")}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#60a5fa",strokeWidth:3},sourceHandle:"top-source",targetHandle:"left-target",labelStyle:{fontSize:14}},{id:"e5-wau-loss",source:"at-risk-wau",target:"at-risk-mau",animated:!0,type:"smoothstep",label:`WAU流失率: ${t("WAU流失率")}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#ec4899",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e6-mau-loss",source:"at-risk-mau",target:"dead",animated:!0,type:"smoothstep",label:`MAU流失率: ${t("MAU流失率")}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#ef4444",strokeWidth:3},sourceHandle:"bottom-source",targetHandle:"top-target",labelStyle:{fontSize:14}},{id:"e6-imaurr",source:"at-risk-mau",target:"reactivated",animated:!0,type:"smoothstep",label:`iMAURR: ${i.toFixed(2)}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#22c55e",strokeWidth:3},sourceHandle:"left-source",targetHandle:"left-target",labelStyle:{fontSize:14}},{id:"e7-resurrection",source:"dead",target:"resurrected",type:"smoothstep",animated:!0,label:`复活率: ${t("复活率")}%`,markerEnd:{type:l.ArrowClosed},style:{stroke:"#22c55e",strokeWidth:3},sourceHandle:"right-source",targetHandle:"right-target",labelStyle:{fontSize:14}}]},[t]);return(0,f.jsx)("div",{className:"w-full h-[800px]",children:(0,f.jsxs)(iJ,{nodes:n,edges:r,nodeTypes:ai,edgeTypes:aa,fitView:!0,className:"bg-white rounded-lg shadow-xl",children:[(0,f.jsx)(i4,{}),(0,f.jsx)(ao,{})]})})}function al(){let{isLoading:e,error:t,csvData:n}=E();return(0,f.jsxs)("div",{className:"w-full max-w-5xl mx-auto",children:[t&&(0,f.jsx)("div",{className:"mb-4 p-4 text-red-700 bg-red-100 rounded-md",children:t}),e?(0,f.jsxs)("div",{className:"text-center p-8",children:[(0,f.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,f.jsx)("p",{className:"mt-2 text-gray-600",children:"正在解析文件..."})]}):n?(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{className:"text-center p-4 bg-green-100 text-green-700 rounded-md",children:[(0,f.jsx)("p",{children:"文件上传成功！"}),(0,f.jsxs)("p",{className:"text-sm mt-1",children:["共 ",n.headers.length," 列，",n.rows.length," 行数据"]})]}),(0,f.jsxs)("div",{className:"mt-8",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:"用户活跃度分析"}),(0,f.jsx)(as,{data:n})]})]}):(0,f.jsx)(eA,{})]})}function au(){return(0,f.jsx)("main",{className:"min-h-screen p-8",children:(0,f.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,f.jsx)("h1",{className:"text-4xl font-bold text-center mb-2",children:"DataSenseLM"}),(0,f.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"用户活跃度分析可视化工具"}),(0,f.jsx)("div",{className:"bg-white/30 p-8 rounded-lg backdrop-blur-sm",children:(0,f.jsx)(al,{})})]})})}},5852:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{t.parse=function(t,n){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var o={},i=t.split(r),a=(n||{}).decode||e,s=0;s<i.length;s++){var l=i[s],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==o[c]&&(o[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return o},t.serialize=function(e,t,r){var i=r||{},a=i.encode||n;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(i.domain){if(!o.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,n=encodeURIComponent,r=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},8577:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"===r||"+"===r||"?"===r){t.push({type:"MODIFIER",index:n,value:e[n++]});continue}if("\\"===r){t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if("{"===r){t.push({type:"OPEN",index:n,value:e[n++]});continue}if("}"===r){t.push({type:"CLOSE",index:n,value:e[n++]});continue}if(":"===r){for(var o="",i=n+1;i<e.length;){var a=e.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a){o+=e[i++];continue}break}if(!o)throw TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:o}),n=i;continue}if("("===r){var s=1,l="",i=n+1;if("?"===e[i])throw TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;){if("\\"===e[i]){l+=e[i++]+e[i++];continue}if(")"===e[i]){if(0==--s){i++;break}}else if("("===e[i]&&(s++,"?"!==e[i+1]))throw TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}if(s)throw TypeError("Unbalanced pattern at "+n);if(!l)throw TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:l}),n=i;continue}t.push({type:"CHAR",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,a="[^"+o(t.delimiter||"/#?")+"]+?",s=[],l=0,u=0,c="",d=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},f=function(e){var t=d(e);if(void 0!==t)return t;var r=n[u];throw TypeError("Unexpected "+r.type+" at "+r.index+", expected "+e)},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};u<n.length;){var p=d("CHAR"),g=d("NAME"),m=d("PATTERN");if(g||m){var y=p||"";-1===i.indexOf(y)&&(c+=y,y=""),c&&(s.push(c),c=""),s.push({name:g||l++,prefix:y,suffix:"",pattern:m||a,modifier:d("MODIFIER")||""});continue}var b=p||d("ESCAPED_CHAR");if(b){c+=b;continue}if(c&&(s.push(c),c=""),d("OPEN")){var y=h(),v=d("NAME")||"",x=d("PATTERN")||"",w=h();f("CLOSE"),s.push({name:v||(x?l++:""),pattern:v&&!x?a:x,prefix:y,suffix:w,modifier:d("MODIFIER")||""});continue}f("END")}return s}function n(e,t){void 0===t&&(t={});var n=i(t),r=t.encode,o=void 0===r?function(e){return e}:r,a=t.validate,s=void 0===a||a,l=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",n)});return function(t){for(var n="",r=0;r<e.length;r++){var i=e[r];if("string"==typeof i){n+=i;continue}var a=t?t[i.name]:void 0,u="?"===i.modifier||"*"===i.modifier,c="*"===i.modifier||"+"===i.modifier;if(Array.isArray(a)){if(!c)throw TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===a.length){if(u)continue;throw TypeError('Expected "'+i.name+'" to not be empty')}for(var d=0;d<a.length;d++){var f=o(a[d],i);if(s&&!l[r].test(f))throw TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+f+'"');n+=i.prefix+f+i.suffix}continue}if("string"==typeof a||"number"==typeof a){var f=o(String(a),i);if(s&&!l[r].test(f))throw TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+f+'"');n+=i.prefix+f+i.suffix;continue}if(!u){var h=c?"an array":"a string";throw TypeError('Expected "'+i.name+'" to be '+h)}}return n}}function r(e,t,n){void 0===n&&(n={});var r=n.decode,o=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var i=r[0],a=r.index,s=Object.create(null),l=1;l<r.length;l++)!function(e){if(void 0!==r[e]){var n=t[e-1];"*"===n.modifier||"+"===n.modifier?s[n.name]=r[e].split(n.prefix+n.suffix).map(function(e){return o(e,n)}):s[n.name]=o(r[e],n)}}(l);return{path:i,index:a,params:s}}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function a(e,t,n){void 0===n&&(n={});for(var r=n.strict,a=void 0!==r&&r,s=n.start,l=n.end,u=n.encode,c=void 0===u?function(e){return e}:u,d="["+o(n.endsWith||"")+"]|$",f="["+o(n.delimiter||"/#?")+"]",h=void 0===s||s?"^":"",p=0;p<e.length;p++){var g=e[p];if("string"==typeof g)h+=o(c(g));else{var m=o(c(g.prefix)),y=o(c(g.suffix));if(g.pattern){if(t&&t.push(g),m||y){if("+"===g.modifier||"*"===g.modifier){var b="*"===g.modifier?"?":"";h+="(?:"+m+"((?:"+g.pattern+")(?:"+y+m+"(?:"+g.pattern+"))*)"+y+")"+b}else h+="(?:"+m+"("+g.pattern+")"+y+")"+g.modifier}else h+="("+g.pattern+")"+g.modifier}else h+="(?:"+m+y+")"+g.modifier}}if(void 0===l||l)a||(h+=f+"?"),h+=n.endsWith?"(?="+d+")":"$";else{var v=e[e.length-1],x="string"==typeof v?f.indexOf(v[v.length-1])>-1:void 0===v;a||(h+="(?:"+f+"(?="+d+"))?"),x||(h+="(?="+f+"|"+d+")")}return new RegExp(h,i(n))}function s(t,n,r){return t instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,n):Array.isArray(t)?RegExp("(?:"+t.map(function(e){return s(e,n,r).source}).join("|")+")",i(r)):a(e(t,r),n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,r){return n(e(t,r),r)},t.tokensToFunction=n,t.match=function(e,t){var n=[];return r(s(e,n,t),n,t)},t.regexpToFunction=r,t.tokensToRegexp=a,t.pathToRegexp=s})(),e.exports=t})()},8077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{fillMetadataSegment:function(){return f},normalizeMetadataPageToRoute:function(){return p},normalizeMetadataRoute:function(){return h}});let r=n(9177),o=function(e){return e&&e.__esModule?e:{default:e}}(n(8130)),i=n(8654),a=n(3960),s=n(3171),l=n(2045),u=n(8977),c=n(8758);function d(e){let t=o.default.dirname(e);if(e.endsWith("/sitemap"))return"";let n="";return t.split("/").some(e=>(0,c.isGroupSegment)(e)||(0,c.isParallelRouteSegment)(e))&&(n=(0,s.djb2Hash)(t).toString(36).slice(0,6)),n}function f(e,t,n){let r=(0,l.normalizeAppPath)(e),s=(0,a.getNamedRouteRegex)(r,!1),c=(0,i.interpolateDynamicPath)(r,t,s),{name:f,ext:h}=o.default.parse(n),p=d(o.default.posix.join(e,f)),g=p?`-${p}`:"";return(0,u.normalizePathSep)(o.default.join(c,`${f}${g}${h}`))}function h(e){if(!(0,r.isMetadataRoute)(e))return e;let t=e,n="";if("/robots"===e?t+=".txt":"/manifest"===e?t+=".webmanifest":n=d(e),!t.endsWith("/route")){let{dir:e,name:r,ext:i}=o.default.parse(t);t=o.default.posix.join(e,`${r}${n?`-${n}`:""}${i}`,"route")}return t}function p(e,t){let n=e.endsWith("/route"),r=n?e.slice(0,-6):e,o=r.endsWith("/sitemap")?".xml":"";return(t?`${r}/[__metadata_id__]`:`${r}${o}`)+(n?"/route":"")}},9177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{STATIC_METADATA_IMAGES:function(){return o},getExtensionRegexString:function(){return a},isMetadataRoute:function(){return c},isMetadataRouteFile:function(){return s},isStaticMetadataRoute:function(){return u},isStaticMetadataRouteFile:function(){return l}});let r=n(8977),o={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},i=["js","jsx","ts","tsx"],a=(e,t)=>t?`(?:\\.(${e.join("|")})|((\\[\\])?\\.(${t.join("|")})))`:`\\.(?:${e.join("|")})`;function s(e,t,n){let i=[RegExp(`^[\\\\/]robots${n?`${a(t.concat("txt"),null)}$`:""}`),RegExp(`^[\\\\/]manifest${n?`${a(t.concat("webmanifest","json"),null)}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${n?`${a(["xml"],t)}$`:""}`),RegExp(`[\\\\/]${o.icon.filename}\\d?${n?`${a(o.icon.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.apple.filename}\\d?${n?`${a(o.apple.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.openGraph.filename}\\d?${n?`${a(o.openGraph.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.twitter.filename}\\d?${n?`${a(o.twitter.extensions,t)}$`:""}`)],s=(0,r.normalizePathSep)(e);return i.some(e=>e.test(s))}function l(e){return s(e,[],!0)}function u(e){return"/robots"===e||"/manifest"===e||l(e)}function c(e){let t=e.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==t[0]&&(t="/"+t),!t.endsWith("/page")&&s(t,i,!1)}},4713:(e,t,n)=>{"use strict";function r(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:r}=n(5852);return r(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return r}})},2828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return o},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return i}});let r=n(2045),o=["(..)(..)","(.)","(..)","(...)"];function i(e){return void 0!==e.split("/").find(e=>o.find(t=>e.startsWith(t)))}function a(e){let t,n,i;for(let r of e.split("/"))if(n=o.find(e=>r.startsWith(e))){[t,i]=e.split(n,2);break}if(!t||!n||!i)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,r.normalizeAppPath)(t),n){case"(.)":i="/"===t?`/${i}`:t+"/"+i;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);i=t.split("/").slice(0,-1).concat(i).join("/");break;case"(...)":i="/"+i;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);i=a.slice(0,-2).concat(i).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:i}}},8654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getUtils:function(){return g},interpolateDynamicPath:function(){return h},normalizeDynamicRouteParams:function(){return p},normalizeVercelUrl:function(){return f}});let r=n(9551),o=n(9160),i=n(5296),a=n(3960),s=n(7073),l=n(8469),u=n(5e3),c=n(2045),d=n(2216);function f(e,t,n,o,i){if(o&&t&&i){let t=(0,r.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query))){let r=e!==d.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(d.NEXT_QUERY_PARAM_PREFIX),o=e!==d.NEXT_INTERCEPTION_MARKER_PREFIX&&e.startsWith(d.NEXT_INTERCEPTION_MARKER_PREFIX);(r||o||(n||Object.keys(i.groups)).includes(e))&&delete t.query[e]}e.url=(0,r.format)(t)}}function h(e,t,n){if(!n)return e;for(let r of Object.keys(n.groups)){let o;let{optional:i,repeat:a}=n.groups[r],s=`[${a?"...":""}${r}]`;i&&(s=`[${s}]`);let l=t[r];o=Array.isArray(l)?l.map(e=>e&&encodeURIComponent(e)).join("/"):l?encodeURIComponent(l):"",e=e.replaceAll(s,o)}return e}function p(e,t,n,r){let o=!0;return n?{params:e=Object.keys(n.groups).reduce((i,a)=>{let s=e[a];"string"==typeof s&&(s=(0,c.normalizeRscURL)(s)),Array.isArray(s)&&(s=s.map(e=>("string"==typeof e&&(e=(0,c.normalizeRscURL)(e)),e)));let l=r[a],u=n.groups[a].optional;return((Array.isArray(l)?l.some(e=>Array.isArray(s)?s.some(t=>t.includes(e)):null==s?void 0:s.includes(e)):null==s?void 0:s.includes(l))||void 0===s&&!(u&&t))&&(o=!1),u&&(!s||Array.isArray(s)&&1===s.length&&("index"===s[0]||s[0]===`[[...${a}]]`))&&(s=void 0,delete e[a]),s&&"string"==typeof s&&n.groups[a].repeat&&(s=s.split("/")),s&&(i[a]=s),i},{}),hasValidParams:o}:{params:e,hasValidParams:!1}}function g({page:e,i18n:t,basePath:n,rewrites:r,pageIsDynamic:c,trailingSlash:g,caseSensitive:m}){let y,b,v;return c&&(y=(0,a.getNamedRouteRegex)(e,!1),v=(b=(0,s.getRouteMatcher)(y))(e)),{handleRewrites:function(a,s){let d={},f=s.pathname,h=r=>{let u=(0,i.getPathMatch)(r.source+(g?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!m})(s.pathname);if((r.has||r.missing)&&u){let e=(0,l.matchHas)(a,s.query,r.has,r.missing);e?Object.assign(u,e):u=!1}if(u){let{parsedDestination:i,destQuery:a}=(0,l.prepareDestination)({appendParamsToQuery:!0,destination:r.destination,params:u,query:s.query});if(i.protocol)return!0;if(Object.assign(d,a,u),Object.assign(s.query,i.query),delete i.query,Object.assign(s,i),f=s.pathname,n&&(f=f.replace(RegExp(`^${n}`),"")||"/"),t){let e=(0,o.normalizeLocalePath)(f,t.locales);f=e.pathname,s.query.nextInternalLocale=e.detectedLocale||u.nextInternalLocale}if(f===e)return!0;if(c&&b){let e=b(f);if(e)return s.query={...s.query,...e},!0}}return!1};for(let e of r.beforeFiles||[])h(e);if(f!==e){let t=!1;for(let e of r.afterFiles||[])if(t=h(e))break;if(!t&&!(()=>{let t=(0,u.removeTrailingSlash)(f||"");return t===(0,u.removeTrailingSlash)(e)||(null==b?void 0:b(t))})()){for(let e of r.fallback||[])if(t=h(e))break}}return d},defaultRouteRegex:y,dynamicRouteMatcher:b,defaultRouteMatches:v,getParamsFromRouteMatches:function(e,n,r){return(0,s.getRouteMatcher)(function(){let{groups:e,routeKeys:o}=y;return{re:{exec:i=>{let a=Object.fromEntries(new URLSearchParams(i)),s=t&&r&&a["1"]===r;for(let e of Object.keys(a)){let t=a[e];e!==d.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(d.NEXT_QUERY_PARAM_PREFIX)&&(a[e.substring(d.NEXT_QUERY_PARAM_PREFIX.length)]=t,delete a[e])}let l=Object.keys(o||{}),u=e=>{if(t){let o=Array.isArray(e),i=o?e[0]:e;if("string"==typeof i&&t.locales.some(e=>e.toLowerCase()===i.toLowerCase()&&(r=e,n.locale=r,!0)))return o&&e.splice(0,1),!o||0===e.length}return!1};return l.every(e=>a[e])?l.reduce((t,n)=>{let r=null==o?void 0:o[n];return r&&!u(a[n])&&(t[e[r].pos]=a[n]),t},{}):Object.keys(a).reduce((e,t)=>{if(!u(a[t])){let n=t;return s&&(n=parseInt(t,10)-1+""),Object.assign(e,{[n]:a[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>p(e,t,y,v),normalizeVercelUrl:(e,t,n)=>f(e,t,n,c,y),interpolateDynamicPath:(e,t)=>h(e,t,y)}}},620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return o}});let n=/[|\\{}()[\]^$+*?.-]/,r=/[|\\{}()[\]^$+*?.-]/g;function o(e){return n.test(e)?e.replace(r,"\\$&"):e}},3171:(e,t)=>{"use strict";function n(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n)&0xffffffff;return t>>>0}function r(e){return n(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{djb2Hash:function(){return n},hexHash:function(){return r}})},164:(e,t)=>{"use strict";function n(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},8977:(e,t)=>{"use strict";function n(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return n}})},2045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return a}});let r=n(164),o=n(8758);function i(e){return(0,r.ensureLeadingSlash)(e.split("/").reduce((e,t,n,r)=>!t||(0,o.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&n===r.length-1?e:e+"/"+t,""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},1089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return o}}),n(1706);let r=n(6678);function o(e,t,n){void 0===n&&(n=!0);let o=new URL("http://n"),i=t?new URL(t,o):e.startsWith(".")?new URL("http://n"):o,{pathname:a,searchParams:s,search:l,hash:u,href:c,origin:d}=new URL(e,i);if(d!==o.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:a,query:n?(0,r.searchParamsToUrlQuery)(s):void 0,search:l,hash:u,href:c.slice(d.length)}}},7600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return i}});let r=n(6678),o=n(1089);function i(e){if(e.startsWith("/"))return(0,o.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,r.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},5296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return o}});let r=n(8577);function o(e,t){let n=[],o=(0,r.pathToRegexp)(e,n,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),i=(0,r.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(o.source),o.flags):o,n);return(e,r)=>{if("string"!=typeof e)return!1;let o=i(e);if(!o)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of n)"number"==typeof e.name&&delete o.params[e.name];return{...r,...o.params}}}},8469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{compileNonPath:function(){return d},matchHas:function(){return c},prepareDestination:function(){return f}});let r=n(8577),o=n(620),i=n(7600),a=n(2828),s=n(484),l=n(4713);function u(e){return e.replace(/__ESC_COLON_/gi,":")}function c(e,t,n,r){void 0===n&&(n=[]),void 0===r&&(r=[]);let o={},i=n=>{let r;let i=n.key;switch(n.type){case"header":i=i.toLowerCase(),r=e.headers[i];break;case"cookie":r="cookies"in e?e.cookies[n.key]:(0,l.getCookieParser)(e.headers)()[n.key];break;case"query":r=t[i];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};r=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!n.value&&r)return o[function(e){let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);(r>64&&r<91||r>96&&r<123)&&(t+=e[n])}return t}(i)]=r,!0;if(r){let e=RegExp("^"+n.value+"$"),t=Array.isArray(r)?r.slice(-1)[0].match(e):r.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{o[e]=t.groups[e]}):"host"===n.type&&t[0]&&(o.host=t[0])),!0}return!1};return!!n.every(e=>i(e))&&!r.some(e=>i(e))&&o}function d(e,t){if(!e.includes(":"))return e;for(let n of Object.keys(t))e.includes(":"+n)&&(e=e.replace(RegExp(":"+n+"\\*","g"),":"+n+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+n+"\\?","g"),":"+n+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+n+"\\+","g"),":"+n+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+n+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+n));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,r.compile)("/"+e,{validate:!1})(t).slice(1)}function f(e){let t;let n=Object.assign({},e.query);delete n.__nextLocale,delete n.__nextDefaultLocale,delete n.__nextDataReq,delete n.__nextInferredLocaleFromDefault,delete n[s.NEXT_RSC_UNION_QUERY];let l=e.destination;for(let t of Object.keys({...e.params,...n}))l=t?l.replace(RegExp(":"+(0,o.escapeStringRegexp)(t),"g"),"__ESC_COLON_"+t):l;let c=(0,i.parseUrl)(l),f=c.query,h=u(""+c.pathname+(c.hash||"")),p=u(c.hostname||""),g=[],m=[];(0,r.pathToRegexp)(h,g),(0,r.pathToRegexp)(p,m);let y=[];g.forEach(e=>y.push(e.name)),m.forEach(e=>y.push(e.name));let b=(0,r.compile)(h,{validate:!1}),v=(0,r.compile)(p,{validate:!1});for(let[t,n]of Object.entries(f))Array.isArray(n)?f[t]=n.map(t=>d(u(t),e.params)):"string"==typeof n&&(f[t]=d(u(n),e.params));let x=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!x.some(e=>y.includes(e)))for(let t of x)t in f||(f[t]=e.params[t]);if((0,a.isInterceptionRouteAppPath)(h))for(let t of h.split("/")){let n=a.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(n){"(..)(..)"===n?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=n;break}}try{let[n,r]=(t=b(e.params)).split("#",2);c.hostname=v(e.params),c.pathname=n,c.hash=(r?"#":"")+(r||""),delete c.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return c.query={...n,...c.query},{newUrl:t,destQuery:f,parsedDestination:c}}},6678:(e,t)=>{"use strict";function n(e){let t={};return e.forEach((e,n)=>{void 0===t[n]?t[n]=e:Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]}),t}function r(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[n,o]=e;Array.isArray(o)?o.forEach(e=>t.append(n,r(e))):t.set(n,r(o))}),t}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,n)=>e.append(n,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{assign:function(){return i},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return o}})},7073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return o}});let r=n(1706);function o(e){let{re:t,groups:n}=e;return e=>{let o=t.exec(e);if(!o)return!1;let i=e=>{try{return decodeURIComponent(e)}catch(e){throw new r.DecodeError("failed to decode param")}},a={};return Object.keys(n).forEach(e=>{let t=n[e],r=o[t.pos];void 0!==r&&(a[e]=~r.indexOf("/")?r.split("/").map(e=>i(e)):t.repeat?[i(r)]:i(r))}),a}}},3960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getNamedMiddlewareRegex:function(){return g},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return d},parseParameter:function(){return l}});let r=n(2216),o=n(2828),i=n(620),a=n(5e3),s=/\[((?:\[.*\])|.+)\]/;function l(e){let t=e.match(s);return t?u(t[1]):u(e)}function u(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let n=e.startsWith("...");return n&&(e=e.slice(3)),{key:e,repeat:n,optional:t}}function c(e){let t=(0,a.removeTrailingSlash)(e).slice(1).split("/"),n={},r=1;return{parameterizedRoute:t.map(e=>{let t=o.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),a=e.match(s);if(t&&a){let{key:e,optional:o,repeat:s}=u(a[1]);return n[e]={pos:r++,repeat:s,optional:o},"/"+(0,i.escapeStringRegexp)(t)+"([^/]+?)"}if(!a)return"/"+(0,i.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:o}=u(a[1]);return n[e]={pos:r++,repeat:t,optional:o},t?o?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:n}}function d(e){let{parameterizedRoute:t,groups:n}=c(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:n}}function f(e){let{interceptionMarker:t,getSafeRouteKey:n,segment:r,routeKeys:o,keyPrefix:a}=e,{key:s,optional:l,repeat:c}=u(r),d=s.replace(/\W/g,"");a&&(d=""+a+d);let f=!1;(0===d.length||d.length>30)&&(f=!0),isNaN(parseInt(d.slice(0,1)))||(f=!0),f&&(d=n()),a?o[d]=""+a+s:o[d]=s;let h=t?(0,i.escapeStringRegexp)(t):"";return c?l?"(?:/"+h+"(?<"+d+">.+?))?":"/"+h+"(?<"+d+">.+?)":"/"+h+"(?<"+d+">[^/]+?)"}function h(e,t){let n;let s=(0,a.removeTrailingSlash)(e).slice(1).split("/"),l=(n=0,()=>{let e="",t=++n;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),u={};return{namedParameterizedRoute:s.map(e=>{let n=o.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(n&&a){let[n]=e.split(a[0]);return f({getSafeRouteKey:l,interceptionMarker:n,segment:a[1],routeKeys:u,keyPrefix:t?r.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return a?f({getSafeRouteKey:l,segment:a[1],routeKeys:u,keyPrefix:t?r.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,i.escapeStringRegexp)(e)}).join(""),routeKeys:u}}function p(e,t){let n=h(e,t);return{...d(e),namedRegex:"^"+n.namedParameterizedRoute+"(?:/)?$",routeKeys:n.routeKeys}}function g(e,t){let{parameterizedRoute:n}=c(e),{catchAll:r=!0}=t;if("/"===n)return{namedRegex:"^/"+(r?".*":"")+"$"};let{namedParameterizedRoute:o}=h(e,!1);return{namedRegex:"^"+o+(r?"(?:(/.*)?)":"")+"$"}}},1706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return y},NormalizeError:function(){return g},PageNotFoundError:function(){return m},SP:function(){return f},ST:function(){return h},WEB_VITALS:function(){return n},execOnce:function(){return r},getDisplayName:function(){return l},getLocationOrigin:function(){return a},getURL:function(){return s},isAbsoluteUrl:function(){return i},isResSent:function(){return u},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return v}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function r(e){let t,n=!1;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n||(n=!0,t=e(...o)),t}}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>o.test(e);function a(){let{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function s(){let{href:e}=window.location,t=a();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function c(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&u(n))return r;if(!r)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.');return r}let f="undefined"!=typeof performance,h=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class g extends Error{}class m extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},1354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u,metadata:()=>l});var r=n(2740),o=n(2202),i=n.n(o),a=n(4988),s=n.n(a);n(1135);let l={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${i().variable} ${s().variable} antialiased`,children:e})})}},1377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/will/Code/curr-vis-web/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/will/Code/curr-vis-web/src/app/page.tsx","default")},440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8077);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1763:()=>{},1135:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[638,619],()=>n(662));module.exports=r})();